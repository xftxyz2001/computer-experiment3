var On=Object.defineProperty,Rn=Object.defineProperties;var xn=Object.getOwnPropertyDescriptors;var qs=Object.getOwnPropertySymbols;var Un=Object.prototype.hasOwnProperty,Dn=Object.prototype.propertyIsEnumerable;var Ht=(S,T,y)=>T in S?On(S,T,{enumerable:!0,configurable:!0,writable:!0,value:y}):S[T]=y,Z=(S,T)=>{for(var y in T||(T={}))Un.call(T,y)&&Ht(S,y,T[y]);if(qs)for(var y of qs(T))Dn.call(T,y)&&Ht(S,y,T[y]);return S},Gs=(S,T)=>Rn(S,xn(T));var v=(S,T,y)=>(Ht(S,typeof T!="symbol"?T+"":T,y),y),Zt=(S,T,y)=>{if(!T.has(S))throw TypeError("Cannot "+y)};var J=(S,T,y)=>(Zt(S,T,"read from private field"),y?y.call(S):T.get(S)),pe=(S,T,y)=>{if(T.has(S))throw TypeError("Cannot add the same private member more than once");T instanceof WeakSet?T.add(S):T.set(S,y)},ke=(S,T,y,Ne)=>(Zt(S,T,"write to private field"),Ne?Ne.call(S,y):T.set(S,y),y);var Ks=(S,T,y)=>(Zt(S,T,"access private method"),y);var A=(S,T,y)=>new Promise((Ne,me)=>{var mt=te=>{try{ve(y.next(te))}catch(be){me(be)}},bt=te=>{try{ve(y.throw(te))}catch(be){me(be)}},ve=te=>te.done?Ne(te.value):Promise.resolve(te.value).then(mt,bt);ve((y=y.apply(S,T)).next())});(function(S,T){typeof exports=="object"&&typeof module!="undefined"?T(exports):typeof define=="function"&&define.amd?define(["exports"],T):(S=typeof globalThis!="undefined"?globalThis:S||self,T(S.MoegirlInsight={}))})(this,function(S){var Me,Be,Le,Fe,Pe,R,je,fe,Te,ot,Ws,Ee,$e,Ce,Ve;"use strict";var T=Object.defineProperty,y=(r,e)=>T(r,"name",{value:e,configurable:!0});function Ne(){}y(Ne,"noop");function me(r){return r==null}y(me,"isNullable");function mt(r){return r&&typeof r=="object"&&!Array.isArray(r)}y(mt,"isPlainObject");function bt(r,e){return Object.fromEntries(Object.entries(r).filter(([t,s])=>e(t,s)))}y(bt,"filterKeys");function ve(r,e){return Object.fromEntries(Object.entries(r).map(([t,s])=>[t,e(s,t)]))}y(ve,"mapValues");function te(r,e){return r in globalThis&&e instanceof globalThis[r]||Object.prototype.toString.call(e).slice(8,-1)===r}y(te,"is");function be(r){return!r||typeof r!="object"?r:Array.isArray(r)?r.map(be):te("Date",r)?new Date(r.valueOf()):te("RegExp",r)?new RegExp(r.source,r.flags):ve(r,be)}y(be,"clone");function We(r,e,t){return r===e||!t&&me(r)&&me(e)?!0:typeof r!=typeof e||typeof r!="object"||!r||!e?!1:Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every((s,i)=>We(s,e[i])):Array.isArray(e)?!1:Object.keys(Z(Z({},r),e)).every(s=>We(r[s],e[s],t))}y(We,"deepEqual");function Xs(r,e,t){if(!e)return Z({},r);const s={};for(const i of e)(t||r[i]!==void 0)&&(s[i]=r[i]);return s}y(Xs,"pick");function zs(r,e){if(!e)return Z({},r);const t=Z({},r);for(const s of e)Reflect.deleteProperty(t,s);return t}y(zs,"omit");function Y(r,e,t){return Object.defineProperty(r,e,{writable:!0,value:t,enumerable:!1})}y(Y,"defineProperty");function Hs(r,e){return e.every(t=>r.includes(t))}y(Hs,"contain");function Zs(r,e){return r.filter(t=>e.includes(t))}y(Zs,"intersection");function Js(r,e){return r.filter(t=>!e.includes(t))}y(Js,"difference");function Ys(r,e){return Array.from(new Set([...r,...e]))}y(Ys,"union");function Qs(r){return[...new Set(r)]}y(Qs,"deduplicate");function we(r,e){const t=r.indexOf(e);return t>=0?(r.splice(t,1),!0):!1}y(we,"remove");function er(r){return Array.isArray(r)?r:me(r)?[]:[r]}y(er,"makeArray");function tr(r){if(typeof Buffer!="undefined")return Buffer.from(r).toString("base64");let e="";const t=new Uint8Array(r);for(let s=0;s<t.byteLength;s++)e+=String.fromCharCode(t[s]);return btoa(e)}y(tr,"arrayBufferToBase64");function sr(r){if(typeof Buffer!="undefined"){const s=Buffer.from(r,"base64");return new Uint8Array(s.buffer,s.byteOffset,s.length)}const e=atob(r.replace(/\s/g,"")),t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}y(sr,"base64ToArrayBuffer");function rr(r){return r.charAt(0).toUpperCase()+r.slice(1)}y(rr,"capitalize");function wt(r){return r.charAt(0).toLowerCase()+r.slice(1)}y(wt,"uncapitalize");function ir(r){return r.replace(/[_-][a-z]/g,e=>e.slice(1).toUpperCase())}y(ir,"camelCase");function nr(r){return wt(r).replace(/_/g,"-").replace(/.[A-Z]+/g,e=>e[0]+"-"+e.slice(1).toLowerCase())}y(nr,"paramCase");function or(r){return wt(r).replace(/-/g,"_").replace(/.[A-Z]+/g,e=>e[0]+"_"+e.slice(1).toLowerCase())}y(or,"snakeCase");function Jt(r){return r.replace(/\/$/,"")}y(Jt,"trimSlash");function ar(r){return r.startsWith("/")||(r="/"+r),Jt(r)}y(ar,"sanitize");var Yt;(r=>{r.millisecond=1,r.second=1e3,r.minute=r.second*60,r.hour=r.minute*60,r.day=r.hour*24,r.week=r.day*7;let e=new Date().getTimezoneOffset();function t(f){e=f}r.setTimezoneOffset=t,y(t,"setTimezoneOffset");function s(){return e}r.getTimezoneOffset=s,y(s,"getTimezoneOffset");function i(f=new Date,u){return typeof f=="number"&&(f=new Date(f)),u===void 0&&(u=e),Math.floor((f.valueOf()/r.minute-u)/1440)}r.getDateNumber=i,y(i,"getDateNumber");function n(f,u){const m=new Date(f*r.day);return u===void 0&&(u=e),new Date(+m+u*r.minute)}r.fromDateNumber=n,y(n,"fromDateNumber");const o=/\d+(?:\.\d+)?/.source,a=new RegExp(`^${["w(?:eek(?:s)?)?","d(?:ay(?:s)?)?","h(?:our(?:s)?)?","m(?:in(?:ute)?(?:s)?)?","s(?:ec(?:ond)?(?:s)?)?"].map(f=>`(${o}${f})?`).join("")}$`);function l(f){const u=a.exec(f);return u?(parseFloat(u[1])*r.week||0)+(parseFloat(u[2])*r.day||0)+(parseFloat(u[3])*r.hour||0)+(parseFloat(u[4])*r.minute||0)+(parseFloat(u[5])*r.second||0):0}r.parseTime=l,y(l,"parseTime");function c(f){const u=l(f);return u?f=Date.now()+u:/^\d{1,2}(:\d{1,2}){1,2}$/.test(f)?f=`${new Date().toLocaleDateString()}-${f}`:/^\d{1,2}-\d{1,2}-\d{1,2}(:\d{1,2}){1,2}$/.test(f)&&(f=`${new Date().getFullYear()}-${f}`),f?new Date(f):new Date}r.parseDate=c,y(c,"parseDate");function p(f){const u=Math.abs(f);return u>=r.day-r.hour/2?Math.round(f/r.day)+"d":u>=r.hour-r.minute/2?Math.round(f/r.hour)+"h":u>=r.minute-r.second/2?Math.round(f/r.minute)+"m":u>=r.second?Math.round(f/r.second)+"s":f+"ms"}r.format=p,y(p,"format");function b(f,u=2){return f.toString().padStart(u,"0")}r.toDigits=b,y(b,"toDigits");function h(f,u=new Date){return f.replace("yyyy",u.getFullYear().toString()).replace("yy",u.getFullYear().toString().slice(2)).replace("MM",b(u.getMonth()+1)).replace("dd",b(u.getDate())).replace("hh",b(u.getHours())).replace("mm",b(u.getMinutes())).replace("ss",b(u.getSeconds())).replace("SSS",b(u.getMilliseconds(),3))}r.template=h,y(h,"template")})(Yt||(Yt={}));var lr=Object.defineProperty,X=(r,e)=>lr(r,"name",{value:e,configurable:!0});function gt(r){return r!==null&&r!==!1&&r!==void 0}X(gt,"isBailed");var cr=(Me=class{constructor(e){v(this,"isActive",!1);v(this,"_tasks",new Set);v(this,"_hooks",{});this.root=e,Y(this,V.current,e),Y(this.on("internal/hook",function(t,s,i){const n=i?"unshift":"push",{scope:o}=this[V.current],{runtime:a,disposables:l}=o;if(t==="ready"&&this.isActive)o.ensure(()=>A(this,null,function*(){return s()}));else{if(t==="dispose")return l[n](s),Y(s,"name","event <dispose>"),()=>we(l,s);if(t==="fork")return a.forkables[n](s),o.collect("event <fork>",()=>we(a.forkables,s))}}),V.static,e.scope)}queue(e){this[V.current].scope.ensure(()=>A(this,null,function*(){return e}))}flush(){return A(this,null,function*(){for(;this._tasks.size;)yield Promise.all(Array.from(this._tasks))})}getHooks(e,t){return(this._hooks[e]||[]).slice().filter(([i])=>{const n=t==null?void 0:t[V.filter];return!n||n.call(t,i)}).map(([,i])=>i)}prepareEvent(e,t){const s=typeof t[0]=="object"?t.shift():null,i=t.shift();return i!=="internal/event"&&this.emit("internal/event",e,i,t,s),[this.getHooks(i,s),s]}parallel(...e){return A(this,null,function*(){const[t,s]=this.prepareEvent("parallel",e);yield Promise.all(t.map(i=>A(this,null,function*(){yield i.apply(s,e)})))})}emit(...e){const[t,s]=this.prepareEvent("emit",e);for(const i of t)i.apply(s,e)}serial(...e){return A(this,null,function*(){const[t,s]=this.prepareEvent("serial",e);for(const i of t){const n=yield i.apply(s,e);if(gt(n))return n}})}bail(...e){const[t,s]=this.prepareEvent("bail",e);for(const i of t){const n=i.apply(s,e);if(gt(n))return n}}register(e,t,s,i){const n=this.root.config.maxListeners;t.length>=n&&this.root.emit("internal/warning",`max listener count (${n}) for ${e} exceeded, which may be caused by a memory leak`);const o=this[V.current];return t[i?"unshift":"push"]([o,s]),o.state.collect(e,()=>this.unregister(t,s))}unregister(e,t){const s=e.findIndex(([i,n])=>n===t);if(s>=0)return e.splice(s,1),!0}on(e,t,s=!1){var a;const i=this.bail(this,"internal/hook",e,t,s);if(i)return i;const n=(a=this._hooks)[e]||(a[e]=[]),o=typeof e=="string"?`event <${e}>`:"event (Symbol)";return this.register(o,n,t,s)}once(e,t,s=!1){const i=this.on(e,function(...n){return i(),t.apply(this,n)},s);return i}off(e,t){return this.unregister(this._hooks[e]||[],t)}start(){return A(this,null,function*(){this.isActive=!0;const e=this._hooks.ready||[];for(;e.length;){const[t,s]=e.shift();t.scope.ensure(()=>A(this,null,function*(){return s()}))}yield this.flush()})}stop(){return A(this,null,function*(){this.isActive=!1,this.root.scope.reset()})}},X(Me,"Lifecycle"),Me);function yt(r){return!(!r.prototype||r.prototype.constructor!==r)}X(yt,"isConstructor");function Et(r){return Object.getPrototypeOf(r).constructor}X(Et,"getConstructor");function Re(r,e){if(e===!1)return;e===!0&&(e=void 0);const t=r.Config||r.schema;return t&&r.schema!==!1&&(e=t(e)),e!=null?e:{}}X(Re,"resolveConfig");var Qt=(Be=class{constructor(e,t){v(this,"uid");v(this,"ctx");v(this,"disposables",[]);v(this,"error");v(this,"status","pending");v(this,"context");v(this,"proxy");v(this,"acceptors",[]);v(this,"tasks",new Set);v(this,"hasError",!1);v(this,"isActive",!1);this.parent=e,this.config=t,this.uid=e.registry?e.registry.counter:0,this.ctx=this.context=e.extend({scope:this}),this.proxy=new Proxy({},{get:(s,i)=>Reflect.get(this.config,i)})}get _config(){return this.runtime.isReactive?this.proxy:this.config}collect(e,t){const s=Y(()=>(we(this.disposables,s),t()),"name",e);return this.disposables.push(s),s}restart(){this.reset(),this.start()}_getStatus(){return this.uid===null?"disposed":this.hasError?"failed":this.tasks.size?"loading":this.ready?"active":"pending"}_updateStatus(e){const t=this.status;e==null||e(),this.status=this._getStatus(),t!==this.status&&this.context.emit("internal/status",this,t)}ensure(e){const t=e().catch(s=>{this.context.emit("internal/warning",s),this.cancel(s)}).finally(()=>{this._updateStatus(()=>this.tasks.delete(t)),this.context.events._tasks.delete(t)});this._updateStatus(()=>this.tasks.add(t)),this.context.events._tasks.add(t)}cancel(e){this.error=e,this._updateStatus(()=>this.hasError=!0),this.reset()}setup(){this.runtime.using.length&&(Y(this.context.on("internal/before-service",e=>{this.runtime.using.includes(e)&&(this._updateStatus(),this.reset())}),V.static,this),Y(this.context.on("internal/service",e=>{this.runtime.using.includes(e)&&this.start()}),V.static,this))}get ready(){return this.runtime.using.every(e=>this.ctx[e])}reset(){this.isActive=!1,this.disposables=this.disposables.splice(0).filter(e=>{if(this.uid!==null&&e[V.static]===this)return!0;e()})}start(){if(!this.ready||this.isActive||this.uid===null)return!0;this.isActive=!0,this._updateStatus(()=>this.hasError=!1)}accept(...e){var i;const t=Array.isArray(e[0])?e.shift():null,s=Z({keys:t,callback:e[0]},e[1]);return this.acceptors.push(s),s.immediate&&((i=s.callback)==null||i.call(s,this.config)),this.collect(`accept <${(t==null?void 0:t.join(", "))||"*"}>`,()=>we(this.acceptors,s))}decline(e){return this.accept(e,()=>!0)}checkUpdate(e,t){if(t)return[!0,!0];if(t===!1)return[!1,!1];const s=Object.create(null),i=X(c=>{var b;const p=(b=s[c])!=null?b:s[c]=!We(this.config[c],e[c]);return o||(o=p),p},"checkPropertyUpdate"),n=new Set;let o=!1,a=!1,l=this.runtime.isReactive||null;for(const{keys:c,callback:p,passive:b}of this.acceptors){if(!c)l||(l=!b);else if(b)c==null||c.forEach(f=>n.add(f));else{let f=!1;for(const u of c)f||(f=i(u));if(!f)continue}(p==null?void 0:p(e))&&(a=!0)}for(const c in Z(Z({},this.config),e))if(l!==!1&&!(c in s)&&!n.has(c)){const p=i(c);l===null&&(a||(a=p))}return[o,a]}},X(Be,"EffectScope"),Be),ur=(Le=class extends Qt{constructor(t,s,i){super(t,s);v(this,"dispose");this.runtime=i,this.dispose=Y(t.scope.collect(`fork <${t.runtime.name}>`,()=>{this.uid=null,this.reset();const n=we(i.disposables,this.dispose);return we(i.children,this)&&!i.children.length&&t.registry.delete(i.plugin),this.context.emit("internal/fork",this),n}),V.static,i),i.children.push(this),i.disposables.push(this.dispose),this.context.emit("internal/fork",this),i.isReusable&&this.setup(),this.start()}start(){if(super.start())return!0;for(const t of this.runtime.forkables)this.ensure(()=>A(this,null,function*(){return t(this.context,this._config)}))}update(t,s){const i=this.config,n=this.runtime.isForkable?this:this.runtime;if(n.config!==i)return;const o=Re(this.runtime.plugin,t),[a,l]=n.checkUpdate(o,s);this.context.emit("internal/before-update",this,t),this.config=o,n.config=o,a&&this.context.emit("internal/update",this,i),l&&n.restart()}},X(Le,"ForkScope"),Le),es=(Fe=class extends Qt{constructor(t,s,i){super(t[V.current],i);v(this,"runtime",this);v(this,"schema");v(this,"using",[]);v(this,"forkables",[]);v(this,"children",[]);v(this,"isReusable",!1);v(this,"isReactive",!1);v(this,"apply",(t,s)=>{const i=this.plugin;if(typeof i!="function")this.ensure(()=>A(this,null,function*(){return i.apply(t,s)}));else if(yt(i)){const n=new i(t,s),o=n[V.expose];o&&(t[o]=n),n.fork&&this.forkables.push(n.fork.bind(n))}else this.ensure(()=>A(this,null,function*(){return i(t,s)}))});this.plugin=s,t.set(s,this),s?this.setup():this.isActive=!0}get isForkable(){return this.forkables.length>0}get name(){if(!this.plugin)return"root";const{name:t}=this.plugin;return!t||t==="apply"?"anonymous":t}fork(t,s){return new ur(t,s,this)}dispose(){return this.uid=null,this.reset(),this.context.emit("internal/runtime",this),!0}setup(){this.schema=this.plugin.Config||this.plugin.schema,this.using=this.plugin.using||this.plugin.inject||[],this.isReusable=this.plugin.reusable,this.isReactive=this.plugin.reactive,this.context.emit("internal/runtime",this),this.isReusable?this.forkables.push(this.apply):super.setup(),this.restart()}reset(){super.reset();for(const t of this.children)t.reset()}start(){if(super.start())return!0;!this.isReusable&&this.plugin&&this.apply(this.context,this._config);for(const t of this.children)t.start()}update(t,s){this.isForkable&&this.context.emit("internal/warning",`attempting to update forkable plugin "${this.plugin.name}", which may lead to unexpected behavior`);const i=this.config,n=Re(this.runtime.plugin||Et(this.context),t),[o,a]=this.checkUpdate(n,s),l=this.children.find(c=>c.config===i);this.config=n,l&&(this.context.emit("internal/before-update",l,t),l.config=n,o&&this.context.emit("internal/update",l,i)),a&&this.restart()}},X(Fe,"MainScope"),Fe);function ts(r){return r&&typeof r=="object"&&typeof r.apply=="function"}X(ts,"isApplicable");var hr=(Pe=class extends Map{constructor(t,s){super();v(this,"_counter",0);this.root=t,Y(this,V.current,t),t.scope=new es(this,null,s),t.scope.runtime.isReactive=!0}get counter(){return++this._counter}resolve(t){if(t===null||typeof t=="function")return t;if(ts(t))return t.apply;throw new Error('invalid plugin, expect function or object with an "apply" method')}get(t){return super.get(this.resolve(t))}has(t){return super.has(this.resolve(t))}set(t,s){return super.set(this.resolve(t),s)}delete(t){t=this.resolve(t);const s=this.get(t);return s?(super.delete(t),s.dispose()):!1}using(t,s){return this.plugin({inject:t,apply:s,name:s.name})}plugin(t,s){if(this.resolve(t),s=Re(t,s),!s)return;const i=this[V.current];let n=this.get(t);return n?(n.isForkable||this.root.emit("internal/warning",`duplicate plugin detected: ${t.name}`),n.fork(i,s)):(n=new es(this,t,s),n.fork(i,s))}dispose(t){return this.delete(t)}},X(Pe,"Registry"),Pe),V=(R=class{static ensureInternal(){const e=this.prototype||this;if(Object.prototype.hasOwnProperty.call(e,R.internal))return e[R.internal];const t=R.ensureInternal.call(Object.getPrototypeOf(this));return e[R.internal]=Object.create(t)}static mixin(e,t){const s=R.ensureInternal.call(this);Array.isArray(t)||(t=[...t.accessors||[],...t.methods||[]]);for(const i of t)s[i]={type:"mixin",service:e}}static service(e,t={}){const s=this.ensureInternal();if(e in s)return;const i=typeof e=="symbol"?e:Symbol(e);s[e]={type:"service",key:i},yt(t)&&(s[e].prototype=t.prototype),this.mixin(e,t)}constructor(e){const t=new Proxy(this,R.handler);e=Re(Et(this),e),t[R.shadow]=Object.create(null),t.root=t,t.realms=Object.create(null),t.mixin("scope",["config","runtime","collect","accept","decline"]),t.mixin("registry",["using","plugin","dispose"]),t.mixin("lifecycle",["on","once","off","after","parallel","emit","serial","bail","start","stop"]),t.provide("registry",new hr(t,e)),t.provide("lifecycle",new cr(t));const s=X(i=>{var n;if(i){s(Object.getPrototypeOf(i));for(const o of[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)]){const a=(n=i[o].prototype)==null?void 0:n.constructor;if(!a)continue;const l=a[R.expose];t[o]=new a(t,l?e==null?void 0:e[l]:e)}}},"attach");return s(this[R.internal]),t}[Symbol.for("nodejs.util.inspect.custom")](){return`Context <${this.runtime.name}>`}get events(){return this.lifecycle}get state(){return this.scope}provide(e,t){const s=R.ensureInternal.call(this),i=Symbol(e);s[e]={type:"service",key:i},this[i]=t}mixin(e,t){return R.mixin.call(this,e,t)}extend(e={}){return Object.assign(Object.create(this),e)}isolate(e,t){var i,n,o,a;const s=this.extend();s[R.shadow]=Object.create(this[R.shadow]);for(const l of e)s[R.shadow][l]=t?(a=(o=(n=(i=this.realms)[t])!=null?n:i[t]=Object.create(null))[l])!=null?a:o[l]=Symbol(l):Symbol(l);return s}},X(R,"Context"),v(R,"config",Symbol("config")),v(R,"events",Symbol("events")),v(R,"static",Symbol("static")),v(R,"filter",Symbol("filter")),v(R,"source",Symbol("source")),v(R,"expose",Symbol("expose")),v(R,"shadow",Symbol("shadow")),v(R,"current",Symbol("current")),v(R,"internal",Symbol("internal")),v(R,"handler",{get(e,t,s){if(typeof t!="string")return Reflect.get(e,t,s);const i=s[R.internal][t];if(!i)return Reflect.get(e,t,s);if(i.type==="mixin"){const n=s[i.service],o=Reflect.get(n,t);return typeof o!="function"?o:o.bind(n)}else if(i.type==="service"){const n=s[R.shadow][t]||i.key,o=s.root[n];return o?(Y(o,R.current,s),o):void 0}},set(e,t,s,i){if(typeof t!="string")return Reflect.set(e,t,s,i);const n=i[R.internal][t];if(!n)return Reflect.set(e,t,s,i);if(n.type==="mixin")return Reflect.set(i[n.service],t,s);if(n.type==="service"){const o=i[R.shadow][t]||n.key,a=i.root[o];if(a===s)return!0;const l=Object.create(null);if(l[R.filter]=c=>i[R.shadow][t]===c[R.shadow][t],s&&a)throw new Error(`service ${t} has been registered`);return i.root.emit(l,"internal/before-service",t,s),i.root[o]=s,s&&typeof s=="object"&&Y(s,R.source,i),i.root.emit(l,"internal/service",t,a),!0}return!1}}),R);V.prototype[V.internal]=Object.create(null);var kt=(je=class{constructor(e,t,s){this.ctx=e,e.root.provide(t),Y(this,V.current,e),s&&(this[V.expose]=t),e.on("ready",()=>A(this,null,function*(){yield Promise.resolve(),yield this.start(),s||(e[t]=this)})),e.on("dispose",()=>A(this,null,function*(){e[t]=null,yield this.stop()}))}start(){}stop(){}get caller(){return this[V.current]}},X(je,"Service"),je);function fr(r=1500){return Promise.race([fetch("https://discovery.googleapis.com/discovery/v1/apis?name=0").then(()=>!1).catch(()=>!0),new Promise(e=>setTimeout(()=>{e(!0)},r))])}class dr extends kt{constructor(t){super(t,"region",!1);pe(this,ot);pe(this,fe,void 0);pe(this,Te,void 0);this.ctx=t}start(){return A(this,null,function*(){yield Ks(this,ot,Ws).call(this)})}regionName(){const t=J(this,fe);if(!t)throw new TypeError("[RegionService] the region has not been initialized");return t}checkRegion(t){return[null,void 0,"","*","all"].includes(t.region)?!0:t.region===this.regionName()}}fe=new WeakMap,Te=new WeakMap,ot=new WeakSet,Ws=function(){return A(this,null,function*(){if(J(this,fe))return J(this,fe);J(this,Te)||ke(this,Te,fr());const t=yield J(this,Te);return ke(this,fe,t?"mainland":"oversea"),J(this,fe)})};function Nt(r){let e=typeof r;if(e=="object"){if(Array.isArray(r))return"array";if(r===null)return"null"}return e}function pr(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}let ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Xe=[];for(let r=0;r<ce.length;r++)Xe[ce[r].charCodeAt(0)]=r;Xe["-".charCodeAt(0)]=ce.indexOf("+"),Xe["_".charCodeAt(0)]=ce.indexOf("/");function ss(r){let e=r.length*3/4;r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&(e-=1);let t=new Uint8Array(e),s=0,i=0,n,o=0;for(let a=0;a<r.length;a++){if(n=Xe[r.charCodeAt(a)],n===void 0)switch(r[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=n,i=1;break;case 1:t[s++]=o<<2|(n&48)>>4,o=n,i=2;break;case 2:t[s++]=(o&15)<<4|(n&60)>>2,o=n,i=3;break;case 3:t[s++]=(o&3)<<6|n,i=0;break}}if(i==1)throw Error("invalid base64 string.");return t.subarray(0,s)}function rs(r){let e="",t=0,s,i=0;for(let n=0;n<r.length;n++)switch(s=r[n],t){case 0:e+=ce[s>>2],i=(s&3)<<4,t=1;break;case 1:e+=ce[i|s>>4],i=(s&15)<<2,t=2;break;case 2:e+=ce[i|s>>6],e+=ce[s&63],t=0;break}return t&&(e+=ce[i],e+="=",t==1&&(e+="=")),e}var ze;(function(r){r.symbol=Symbol.for("protobuf-ts/unknown"),r.onRead=(t,s,i,n,o)=>{(e(s)?s[r.symbol]:s[r.symbol]=[]).push({no:i,wireType:n,data:o})},r.onWrite=(t,s,i)=>{for(let{no:n,wireType:o,data:a}of r.list(s))i.tag(n,o).raw(a)},r.list=(t,s)=>{if(e(t)){let i=t[r.symbol];return s?i.filter(n=>n.no==s):i}return[]},r.last=(t,s)=>r.list(t,s).slice(-1)[0];const e=t=>t&&Array.isArray(t[r.symbol])})(ze||(ze={}));function mr(r,e){return Object.assign(Object.assign({},r),e)}var q;(function(r){r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32"})(q||(q={}));function br(){let r=0,e=0;for(let s=0;s<28;s+=7){let i=this.buf[this.pos++];if(r|=(i&127)<<s,!(i&128))return this.assertBounds(),[r,e]}let t=this.buf[this.pos++];if(r|=(t&15)<<28,e=(t&112)>>4,!(t&128))return this.assertBounds(),[r,e];for(let s=3;s<=31;s+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<s,!(i&128))return this.assertBounds(),[r,e]}throw new Error("invalid varint")}function vt(r,e,t){for(let n=0;n<28;n=n+7){const o=r>>>n,a=!(!(o>>>7)&&e==0),l=(a?o|128:o)&255;if(t.push(l),!a)return}const s=r>>>28&15|(e&7)<<4,i=!!(e>>3);if(t.push((i?s|128:s)&255),!!i){for(let n=3;n<31;n=n+7){const o=e>>>n,a=!!(o>>>7),l=(a?o|128:o)&255;if(t.push(l),!a)return}t.push(e>>>31&1)}}const He=65536*65536;function is(r){let e=r[0]=="-";e&&(r=r.slice(1));const t=1e6;let s=0,i=0;function n(o,a){const l=Number(r.slice(o,a));i*=t,s=s*t+l,s>=He&&(i=i+(s/He|0),s=s%He)}return n(-24,-18),n(-18,-12),n(-12,-6),n(-6),[e,s,i]}function _t(r,e){if(e>>>0<=2097151)return""+(He*e+(r>>>0));let t=r&16777215,s=(r>>>24|e<<8)>>>0&16777215,i=e>>16&65535,n=t+s*6777216+i*6710656,o=s+i*8147497,a=i*2,l=1e7;n>=l&&(o+=Math.floor(n/l),n%=l),o>=l&&(a+=Math.floor(o/l),o%=l);function c(p,b){let h=p?String(p):"";return b?"0000000".slice(h.length)+h:h}return c(a,0)+c(o,a)+c(n,1)}function ns(r,e){if(r>=0){for(;r>127;)e.push(r&127|128),r=r>>>7;e.push(r)}else{for(let t=0;t<9;t++)e.push(r&127|128),r=r>>7;e.push(1)}}function wr(){let r=this.buf[this.pos++],e=r&127;if(!(r&128))return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<7,!(r&128))return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<14,!(r&128))return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<21,!(r&128))return this.assertBounds(),e;r=this.buf[this.pos++],e|=(r&15)<<28;for(let t=5;r&128&&t<10;t++)r=this.buf[this.pos++];if(r&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}let L;function gr(){const r=new DataView(new ArrayBuffer(8));L=globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:r}:void 0}gr();function os(r){if(!r)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const as=/^-?[0-9]+$/,Ze=4294967296,Je=2147483648;class ls{constructor(e,t){this.lo=e|0,this.hi=t|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*Ze+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class W extends ls{static from(e){if(L)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=L.C(e);case"number":if(e===0)return this.ZERO;e=L.C(e);case"bigint":if(!e)return this.ZERO;if(e<L.UMIN)throw new Error("signed value for ulong");if(e>L.UMAX)throw new Error("ulong too large");return L.V.setBigUint64(0,e,!0),new W(L.V.getInt32(0,!0),L.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!as.test(e))throw new Error("string is no integer");let[t,s,i]=is(e);if(t)throw new Error("signed value for ulong");return new W(s,i);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new W(e,e/Ze)}throw new Error("unknown value "+typeof e)}toString(){return L?this.toBigInt().toString():_t(this.lo,this.hi)}toBigInt(){return os(L),L.V.setInt32(0,this.lo,!0),L.V.setInt32(4,this.hi,!0),L.V.getBigUint64(0,!0)}}W.ZERO=new W(0,0);class P extends ls{static from(e){if(L)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=L.C(e);case"number":if(e===0)return this.ZERO;e=L.C(e);case"bigint":if(!e)return this.ZERO;if(e<L.MIN)throw new Error("signed long too small");if(e>L.MAX)throw new Error("signed long too large");return L.V.setBigInt64(0,e,!0),new P(L.V.getInt32(0,!0),L.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!as.test(e))throw new Error("string is no integer");let[t,s,i]=is(e);if(t){if(i>Je||i==Je&&s!=0)throw new Error("signed long too small")}else if(i>=Je)throw new Error("signed long too large");let n=new P(s,i);return t?n.negate():n;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new P(e,e/Ze):new P(-e,-e/Ze).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&Je)!==0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new P(t,e)}toString(){if(L)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+_t(e.lo,e.hi)}return _t(this.lo,this.hi)}toBigInt(){return os(L),L.V.setInt32(0,this.lo,!0),L.V.setInt32(4,this.hi,!0),L.V.getBigInt64(0,!0)}}P.ZERO=new P(0,0);const cs={readUnknownField:!0,readerFactory:r=>new Er(r)};function yr(r){return r?Object.assign(Object.assign({},cs),r):cs}class Er{constructor(e,t){this.varint64=br,this.uint32=wr,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t!=null?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,s=e&7;if(t<=0||s<0||s>5)throw new Error("illegal tag: field no "+t+" wire type "+s);return[t,s]}skip(e){let t=this.pos;switch(e){case q.Varint:for(;this.buf[this.pos++]&128;);break;case q.Bit64:this.pos+=4;case q.Bit32:this.pos+=4;break;case q.LengthDelimited:let s=this.uint32();this.pos+=s;break;case q.StartGroup:let i;for(;(i=this.tag()[1])!==q.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new P(...this.varint64())}uint64(){return new W(...this.varint64())}sint64(){let[e,t]=this.varint64(),s=-(e&1);return e=(e>>>1|(t&1)<<31)^s,t=t>>>1^s,new P(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new W(this.sfixed32(),this.sfixed32())}sfixed64(){return new P(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function O(r,e){if(!r)throw new Error(e)}function kr(r,e){throw new Error(e!=null?e:"Unexpected object: "+r)}const Nr=34028234663852886e22,vr=-34028234663852886e22,_r=4294967295,Ir=2147483647,Tr=-2147483648;function xe(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>Ir||r<Tr)throw new Error("invalid int 32: "+r)}function Ye(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>_r||r<0)throw new Error("invalid uint 32: "+r)}function It(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(Number.isFinite(r)&&(r>Nr||r<vr))throw new Error("invalid float 32: "+r)}const us={writeUnknownFields:!0,writerFactory:()=>new Sr};function Ar(r){return r?Object.assign(Object.assign({},us),r):us}class Sr{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let t=new Uint8Array(e),s=0;for(let i=0;i<this.chunks.length;i++)t.set(this.chunks[i],s),s+=this.chunks[i].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Ye(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return xe(e),ns(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){It(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){Ye(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){xe(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return xe(e),e=(e<<1^e>>31)>>>0,ns(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),s=new DataView(t.buffer),i=P.from(e);return s.setInt32(0,i.lo,!0),s.setInt32(4,i.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),s=new DataView(t.buffer),i=W.from(e);return s.setInt32(0,i.lo,!0),s.setInt32(4,i.hi,!0),this.raw(t)}int64(e){let t=P.from(e);return vt(t.lo,t.hi,this.buf),this}sint64(e){let t=P.from(e),s=t.hi>>31,i=t.lo<<1^s,n=(t.hi<<1|t.lo>>>31)^s;return vt(i,n,this.buf),this}uint64(e){let t=W.from(e);return vt(t.lo,t.hi,this.buf),this}}const hs={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},fs={ignoreUnknownFields:!1};function Or(r){return r?Object.assign(Object.assign({},fs),r):fs}function Rr(r){return r?Object.assign(Object.assign({},hs),r):hs}function xr(r,e){var t,s;let i=Object.assign(Object.assign({},r),e);return i.typeRegistry=[...(t=r==null?void 0:r.typeRegistry)!==null&&t!==void 0?t:[],...(s=e==null?void 0:e.typeRegistry)!==null&&s!==void 0?s:[]],i}const Ur=Symbol.for("protobuf-ts/message-type");function Tt(r){let e=!1;const t=[];for(let s=0;s<r.length;s++){let i=r.charAt(s);i=="_"?e=!0:/\d/.test(i)?(t.push(i),e=!0):e?(t.push(i.toUpperCase()),e=!1):s==0?t.push(i.toLowerCase()):t.push(i)}return t.join("")}var d;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(d||(d={}));var oe;(function(r){r[r.BIGINT=0]="BIGINT",r[r.STRING=1]="STRING",r[r.NUMBER=2]="NUMBER"})(oe||(oe={}));var Qe;(function(r){r[r.NO=0]="NO",r[r.PACKED=1]="PACKED",r[r.UNPACKED=2]="UNPACKED"})(Qe||(Qe={}));function Dr(r){var e,t,s,i;return r.localName=(e=r.localName)!==null&&e!==void 0?e:Tt(r.name),r.jsonName=(t=r.jsonName)!==null&&t!==void 0?t:Tt(r.name),r.repeat=(s=r.repeat)!==null&&s!==void 0?s:Qe.NO,r.opt=(i=r.opt)!==null&&i!==void 0?i:r.repeat||r.oneof?!1:r.kind=="message",r}function Mr(r){if(typeof r!="object"||r===null||!r.hasOwnProperty("oneofKind"))return!1;switch(typeof r.oneofKind){case"string":return r[r.oneofKind]===void 0?!1:Object.keys(r).length==2;case"undefined":return Object.keys(r).length==1;default:return!1}}class Br{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}prepare(){if(this.data)return;const e=[],t=[],s=[];for(let i of this.fields)if(i.oneof)s.includes(i.oneof)||(s.push(i.oneof),e.push(i.oneof),t.push(i.oneof));else switch(t.push(i.localName),i.kind){case"scalar":case"enum":(!i.opt||i.repeat)&&e.push(i.localName);break;case"message":i.repeat&&e.push(i.localName);break;case"map":e.push(i.localName);break}this.data={req:e,known:t,oneofs:Object.values(s)}}is(e,t,s=!1){if(t<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let i=Object.keys(e),n=this.data;if(i.length<n.req.length||n.req.some(o=>!i.includes(o))||!s&&i.some(o=>!n.known.includes(o)))return!1;if(t<1)return!0;for(const o of n.oneofs){const a=e[o];if(!Mr(a))return!1;if(a.oneofKind===void 0)continue;const l=this.fields.find(c=>c.localName===a.oneofKind);if(!l||!this.field(a[a.oneofKind],l,s,t))return!1}for(const o of this.fields)if(o.oneof===void 0&&!this.field(e[o.localName],o,s,t))return!1;return!0}field(e,t,s,i){let n=t.repeat;switch(t.kind){case"scalar":return e===void 0?t.opt:n?this.scalars(e,t.T,i,t.L):this.scalar(e,t.T,t.L);case"enum":return e===void 0?t.opt:n?this.scalars(e,d.INT32,i):this.scalar(e,d.INT32);case"message":return e===void 0?!0:n?this.messages(e,t.T(),s,i):this.message(e,t.T(),s,i);case"map":if(typeof e!="object"||e===null)return!1;if(i<2)return!0;if(!this.mapKeys(e,t.K,i))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,i,t.V.L);case"enum":return this.scalars(Object.values(e),d.INT32,i);case"message":return this.messages(Object.values(e),t.V.T(),s,i)}break}return!0}message(e,t,s,i){return s?t.isAssignable(e,i):t.is(e,i)}messages(e,t,s,i){if(!Array.isArray(e))return!1;if(i<2)return!0;if(s){for(let n=0;n<e.length&&n<i;n++)if(!t.isAssignable(e[n],i-1))return!1}else for(let n=0;n<e.length&&n<i;n++)if(!t.is(e[n],i-1))return!1;return!0}scalar(e,t,s){let i=typeof e;switch(t){case d.UINT64:case d.FIXED64:case d.INT64:case d.SFIXED64:case d.SINT64:switch(s){case oe.BIGINT:return i=="bigint";case oe.NUMBER:return i=="number"&&!isNaN(e);default:return i=="string"}case d.BOOL:return i=="boolean";case d.STRING:return i=="string";case d.BYTES:return e instanceof Uint8Array;case d.DOUBLE:case d.FLOAT:return i=="number"&&!isNaN(e);default:return i=="number"&&Number.isInteger(e)}}scalars(e,t,s,i){if(!Array.isArray(e))return!1;if(s<2)return!0;if(Array.isArray(e)){for(let n=0;n<e.length&&n<s;n++)if(!this.scalar(e[n],t,i))return!1}return!0}mapKeys(e,t,s){let i=Object.keys(e);switch(t){case d.INT32:case d.FIXED32:case d.SFIXED32:case d.SINT32:case d.UINT32:return this.scalars(i.slice(0,s).map(n=>parseInt(n)),t,s);case d.BOOL:return this.scalars(i.slice(0,s).map(n=>n=="true"?!0:n=="false"?!1:n),t,s);default:return this.scalars(i,t,s,oe.STRING)}}}function se(r,e){switch(e){case oe.BIGINT:return r.toBigInt();case oe.NUMBER:return r.toNumber();default:return r.toString()}}class Lr{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};const t=(e=this.info.fields)!==null&&e!==void 0?e:[];for(const s of t)this.fMap[s.name]=s,this.fMap[s.jsonName]=s,this.fMap[s.localName]=s}}assert(e,t,s){if(!e){let i=Nt(s);throw(i=="number"||i=="boolean")&&(i=s.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#${t}`)}}read(e,t,s){this.prepare();const i=[];for(const[n,o]of Object.entries(e)){const a=this.fMap[n];if(!a){if(!s.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${n}`);continue}const l=a.localName;let c;if(a.oneof){if(o===null&&(a.kind!=="enum"||a.T()[0]!=="google.protobuf.NullValue"))continue;if(i.includes(a.oneof))throw new Error(`Multiple members of the oneof group "${a.oneof}" of ${this.info.typeName} are present in JSON.`);i.push(a.oneof),c=t[a.oneof]={oneofKind:l}}else c=t;if(a.kind=="map"){if(o===null)continue;this.assert(pr(o),a.name,o);const p=c[l];for(const[b,h]of Object.entries(o)){this.assert(h!==null,a.name+" map value",null);let f;switch(a.V.kind){case"message":f=a.V.T().internalJsonRead(h,s);break;case"enum":if(f=this.enum(a.V.T(),h,a.name,s.ignoreUnknownFields),f===!1)continue;break;case"scalar":f=this.scalar(h,a.V.T,a.V.L,a.name);break}this.assert(f!==void 0,a.name+" map value",h);let u=b;a.K==d.BOOL&&(u=u=="true"?!0:u=="false"?!1:u),u=this.scalar(u,a.K,oe.STRING,a.name).toString(),p[u]=f}}else if(a.repeat){if(o===null)continue;this.assert(Array.isArray(o),a.name,o);const p=c[l];for(const b of o){this.assert(b!==null,a.name,null);let h;switch(a.kind){case"message":h=a.T().internalJsonRead(b,s);break;case"enum":if(h=this.enum(a.T(),b,a.name,s.ignoreUnknownFields),h===!1)continue;break;case"scalar":h=this.scalar(b,a.T,a.L,a.name);break}this.assert(h!==void 0,a.name,o),p.push(h)}}else switch(a.kind){case"message":if(o===null&&a.T().typeName!="google.protobuf.Value"){this.assert(a.oneof===void 0,a.name+" (oneof member)",null);continue}c[l]=a.T().internalJsonRead(o,s,c[l]);break;case"enum":let p=this.enum(a.T(),o,a.name,s.ignoreUnknownFields);if(p===!1)continue;c[l]=p;break;case"scalar":c[l]=this.scalar(o,a.T,a.L,a.name);break}}}enum(e,t,s,i){if(e[0]=="google.protobuf.NullValue"&&O(t===null||t==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${s}, enum ${e[0]} only accepts null.`),t===null)return 0;switch(typeof t){case"number":return O(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${s}, enum can only be integral number, got ${t}.`),t;case"string":let n=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(n=t.substring(e[2].length));let o=e[1][n];return typeof o=="undefined"&&i?!1:(O(typeof o=="number",`Unable to parse field ${this.info.typeName}#${s}, enum ${e[0]} has no value for "${t}".`),o)}O(!1,`Unable to parse field ${this.info.typeName}#${s}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,s,i){let n;try{switch(t){case d.DOUBLE:case d.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){n="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){n="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let o=Number(e);if(Number.isNaN(o)){n="not a number";break}if(!Number.isFinite(o)){n="too large or small";break}return t==d.FLOAT&&It(o),o;case d.INT32:case d.FIXED32:case d.SFIXED32:case d.SINT32:case d.UINT32:if(e===null)return 0;let a;if(typeof e=="number"?a=e:e===""?n="empty string":typeof e=="string"&&(e.trim().length!==e.length?n="extra whitespace":a=Number(e)),a===void 0)break;return t==d.UINT32?Ye(a):xe(a),a;case d.INT64:case d.SFIXED64:case d.SINT64:if(e===null)return se(P.ZERO,s);if(typeof e!="number"&&typeof e!="string")break;return se(P.from(e),s);case d.FIXED64:case d.UINT64:if(e===null)return se(W.ZERO,s);if(typeof e!="number"&&typeof e!="string")break;return se(W.from(e),s);case d.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case d.STRING:if(e===null)return"";if(typeof e!="string"){n="extra whitespace";break}try{encodeURIComponent(e)}catch(l){l="invalid UTF8";break}return e;case d.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return ss(e)}}catch(o){n=o.message}this.assert(!1,i+(n?" - "+n:""),e)}}class Fr{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}write(e,t){const s={},i=e;for(const n of this.fields){if(!n.oneof){let c=this.field(n,i[n.localName],t);c!==void 0&&(s[t.useProtoFieldName?n.name:n.jsonName]=c);continue}const o=i[n.oneof];if(o.oneofKind!==n.localName)continue;const a=n.kind=="scalar"||n.kind=="enum"?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let l=this.field(n,o[n.localName],a);O(l!==void 0),s[t.useProtoFieldName?n.name:n.jsonName]=l}return s}field(e,t,s){let i;if(e.kind=="map"){O(typeof t=="object"&&t!==null);const n={};switch(e.V.kind){case"scalar":for(const[l,c]of Object.entries(t)){const p=this.scalar(e.V.T,c,e.name,!1,!0);O(p!==void 0),n[l.toString()]=p}break;case"message":const o=e.V.T();for(const[l,c]of Object.entries(t)){const p=this.message(o,c,e.name,s);O(p!==void 0),n[l.toString()]=p}break;case"enum":const a=e.V.T();for(const[l,c]of Object.entries(t)){O(c===void 0||typeof c=="number");const p=this.enum(a,c,e.name,!1,!0,s.enumAsInteger);O(p!==void 0),n[l.toString()]=p}break}(s.emitDefaultValues||Object.keys(n).length>0)&&(i=n)}else if(e.repeat){O(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let l=0;l<t.length;l++){const c=this.scalar(e.T,t[l],e.name,e.opt,!0);O(c!==void 0),n.push(c)}break;case"enum":const o=e.T();for(let l=0;l<t.length;l++){O(t[l]===void 0||typeof t[l]=="number");const c=this.enum(o,t[l],e.name,e.opt,!0,s.enumAsInteger);O(c!==void 0),n.push(c)}break;case"message":const a=e.T();for(let l=0;l<t.length;l++){const c=this.message(a,t[l],e.name,s);O(c!==void 0),n.push(c)}break}(s.emitDefaultValues||n.length>0||s.emitDefaultValues)&&(i=n)}else switch(e.kind){case"scalar":i=this.scalar(e.T,t,e.name,e.opt,s.emitDefaultValues);break;case"enum":i=this.enum(e.T(),t,e.name,e.opt,s.emitDefaultValues,s.enumAsInteger);break;case"message":i=this.message(e.T(),t,e.name,s);break}return i}enum(e,t,s,i,n,o){if(e[0]=="google.protobuf.NullValue")return!n&&!i?void 0:null;if(t===void 0){O(i);return}if(!(t===0&&!n&&!i))return O(typeof t=="number"),O(Number.isInteger(t)),o||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,s,i){return t===void 0?i.emitDefaultValues?null:void 0:e.internalJsonWrite(t,i)}scalar(e,t,s,i,n){if(t===void 0){O(i);return}const o=n||i;switch(e){case d.INT32:case d.SFIXED32:case d.SINT32:return t===0?o?0:void 0:(xe(t),t);case d.FIXED32:case d.UINT32:return t===0?o?0:void 0:(Ye(t),t);case d.FLOAT:It(t);case d.DOUBLE:return t===0?o?0:void 0:(O(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case d.STRING:return t===""?o?"":void 0:(O(typeof t=="string"),t);case d.BOOL:return t===!1?o?!1:void 0:(O(typeof t=="boolean"),t);case d.UINT64:case d.FIXED64:O(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let a=W.from(t);return a.isZero()&&!o?void 0:a.toString();case d.INT64:case d.SFIXED64:case d.SINT64:O(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let l=P.from(t);return l.isZero()&&!o?void 0:l.toString();case d.BYTES:return O(t instanceof Uint8Array),t.byteLength?rs(t):o?"":void 0}}}function At(r,e=oe.STRING){switch(r){case d.BOOL:return!1;case d.UINT64:case d.FIXED64:return se(W.ZERO,e);case d.INT64:case d.SFIXED64:case d.SINT64:return se(P.ZERO,e);case d.DOUBLE:case d.FLOAT:return 0;case d.BYTES:return new Uint8Array(0);case d.STRING:return"";default:return 0}}class Pr{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(t.map(s=>[s.no,s]))}}read(e,t,s,i){this.prepare();const n=i===void 0?e.len:e.pos+i;for(;e.pos<n;){const[o,a]=e.tag(),l=this.fieldNoToField.get(o);if(!l){let h=s.readUnknownField;if(h=="throw")throw new Error(`Unknown field ${o} (wire type ${a}) for ${this.info.typeName}`);let f=e.skip(a);h!==!1&&(h===!0?ze.onRead:h)(this.info.typeName,t,o,a,f);continue}let c=t,p=l.repeat,b=l.localName;switch(l.oneof&&(c=c[l.oneof],c.oneofKind!==b&&(c=t[l.oneof]={oneofKind:b})),l.kind){case"scalar":case"enum":let h=l.kind=="enum"?d.INT32:l.T,f=l.kind=="scalar"?l.L:void 0;if(p){let w=c[b];if(a==q.LengthDelimited&&h!=d.STRING&&h!=d.BYTES){let M=e.uint32()+e.pos;for(;e.pos<M;)w.push(this.scalar(e,h,f))}else w.push(this.scalar(e,h,f))}else c[b]=this.scalar(e,h,f);break;case"message":if(p){let w=c[b],M=l.T().internalBinaryRead(e,e.uint32(),s);w.push(M)}else c[b]=l.T().internalBinaryRead(e,e.uint32(),s,c[b]);break;case"map":let[u,m]=this.mapEntry(l,e,s);c[b][u]=m;break}}}mapEntry(e,t,s){let i=t.uint32(),n=t.pos+i,o,a;for(;t.pos<n;){let[l,c]=t.tag();switch(l){case 1:e.K==d.BOOL?o=t.bool().toString():o=this.scalar(t,e.K,oe.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(t,e.V.T,e.V.L);break;case"enum":a=t.int32();break;case"message":a=e.V.T().internalBinaryRead(t,t.uint32(),s);break}break;default:throw new Error(`Unknown field ${l} (wire type ${c}) in map entry for ${this.info.typeName}#${e.name}`)}}if(o===void 0){let l=At(e.K);o=e.K==d.BOOL?l.toString():l}if(a===void 0)switch(e.V.kind){case"scalar":a=At(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create();break}return[o,a]}scalar(e,t,s){switch(t){case d.INT32:return e.int32();case d.STRING:return e.string();case d.BOOL:return e.bool();case d.DOUBLE:return e.double();case d.FLOAT:return e.float();case d.INT64:return se(e.int64(),s);case d.UINT64:return se(e.uint64(),s);case d.FIXED64:return se(e.fixed64(),s);case d.FIXED32:return e.fixed32();case d.BYTES:return e.bytes();case d.UINT32:return e.uint32();case d.SFIXED32:return e.sfixed32();case d.SFIXED64:return se(e.sfixed64(),s);case d.SINT32:return e.sint32();case d.SINT64:return se(e.sint64(),s)}}}class jr{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((t,s)=>t.no-s.no)}}write(e,t,s){this.prepare();for(const n of this.fields){let o,a,l=n.repeat,c=n.localName;if(n.oneof){const p=e[n.oneof];if(p.oneofKind!==c)continue;o=p[c],a=!0}else o=e[c],a=!1;switch(n.kind){case"scalar":case"enum":let p=n.kind=="enum"?d.INT32:n.T;if(l)if(O(Array.isArray(o)),l==Qe.PACKED)this.packed(t,p,n.no,o);else for(const b of o)this.scalar(t,p,n.no,b,!0);else o===void 0?O(n.opt):this.scalar(t,p,n.no,o,a||n.opt);break;case"message":if(l){O(Array.isArray(o));for(const b of o)this.message(t,s,n.T(),n.no,b)}else this.message(t,s,n.T(),n.no,o);break;case"map":O(typeof o=="object"&&o!==null);for(const[b,h]of Object.entries(o))this.mapEntry(t,s,n,b,h);break}}let i=s.writeUnknownFields;i!==!1&&(i===!0?ze.onWrite:i)(this.info.typeName,e,t)}mapEntry(e,t,s,i,n){e.tag(s.no,q.LengthDelimited),e.fork();let o=i;switch(s.K){case d.INT32:case d.FIXED32:case d.UINT32:case d.SFIXED32:case d.SINT32:o=Number.parseInt(i);break;case d.BOOL:O(i=="true"||i=="false"),o=i=="true";break}switch(this.scalar(e,s.K,1,o,!0),s.V.kind){case"scalar":this.scalar(e,s.V.T,2,n,!0);break;case"enum":this.scalar(e,d.INT32,2,n,!0);break;case"message":this.message(e,t,s.V.T(),2,n);break}e.join()}message(e,t,s,i,n){n!==void 0&&(s.internalBinaryWrite(n,e.tag(i,q.LengthDelimited).fork(),t),e.join())}scalar(e,t,s,i,n){let[o,a,l]=this.scalarInfo(t,i);(!l||n)&&(e.tag(s,o),e[a](i))}packed(e,t,s,i){if(!i.length)return;O(t!==d.BYTES&&t!==d.STRING),e.tag(s,q.LengthDelimited),e.fork();let[,n]=this.scalarInfo(t);for(let o=0;o<i.length;o++)e[n](i[o]);e.join()}scalarInfo(e,t){let s=q.Varint,i,n=t===void 0,o=t===0;switch(e){case d.INT32:i="int32";break;case d.STRING:o=n||!t.length,s=q.LengthDelimited,i="string";break;case d.BOOL:o=t===!1,i="bool";break;case d.UINT32:i="uint32";break;case d.DOUBLE:s=q.Bit64,i="double";break;case d.FLOAT:s=q.Bit32,i="float";break;case d.INT64:o=n||P.from(t).isZero(),i="int64";break;case d.UINT64:o=n||W.from(t).isZero(),i="uint64";break;case d.FIXED64:o=n||W.from(t).isZero(),s=q.Bit64,i="fixed64";break;case d.BYTES:o=n||!t.byteLength,s=q.LengthDelimited,i="bytes";break;case d.FIXED32:s=q.Bit32,i="fixed32";break;case d.SFIXED32:s=q.Bit32,i="sfixed32";break;case d.SFIXED64:o=n||P.from(t).isZero(),s=q.Bit64,i="sfixed64";break;case d.SINT32:i="sint32";break;case d.SINT64:o=n||P.from(t).isZero(),i="sint64";break}return[s,i,n||o]}}function $r(r){const e={};Object.defineProperty(e,Ur,{enumerable:!1,value:r});for(let t of r.fields){let s=t.localName;if(!t.opt)if(t.oneof)e[t.oneof]={oneofKind:void 0};else if(t.repeat)e[s]=[];else switch(t.kind){case"scalar":e[s]=At(t.T,t.L);break;case"enum":e[s]=0;break;case"map":e[s]={};break}}return e}function St(r,e,t){let s,i=t,n;for(let o of r.fields){let a=o.localName;if(o.oneof){const l=i[o.oneof];if((l==null?void 0:l.oneofKind)==null)continue;if(s=l[a],n=e[o.oneof],n.oneofKind=l.oneofKind,s==null){delete n[a];continue}}else if(s=i[a],n=e,s==null)continue;switch(o.repeat&&(n[a].length=s.length),o.kind){case"scalar":case"enum":if(o.repeat)for(let c=0;c<s.length;c++)n[a][c]=s[c];else n[a]=s;break;case"message":let l=o.T();if(o.repeat)for(let c=0;c<s.length;c++)n[a][c]=l.create(s[c]);else n[a]===void 0?n[a]=l.create(s):l.mergePartial(n[a],s);break;case"map":switch(o.V.kind){case"scalar":case"enum":Object.assign(n[a],s);break;case"message":let c=o.V.T();for(let p of Object.keys(s))n[a][p]=c.create(s[p]);break}break}}}function Cr(r,e,t){if(e===t)return!0;if(!e||!t)return!1;for(let s of r.fields){let i=s.localName,n=s.oneof?e[s.oneof][i]:e[i],o=s.oneof?t[s.oneof][i]:t[i];switch(s.kind){case"enum":case"scalar":let a=s.kind=="enum"?d.INT32:s.T;if(!(s.repeat?ps(a,n,o):ds(a,n,o)))return!1;break;case"map":if(!(s.V.kind=="message"?ms(s.V.T(),et(n),et(o)):ps(s.V.kind=="enum"?d.INT32:s.V.T,et(n),et(o))))return!1;break;case"message":let l=s.T();if(!(s.repeat?ms(l,n,o):l.equals(n,o)))return!1;break}}return!0}const et=Object.values;function ds(r,e,t){if(e===t)return!0;if(r!==d.BYTES)return!1;let s=e,i=t;if(s.length!==i.length)return!1;for(let n=0;n<s.length;n++)if(s[n]!=i[n])return!1;return!0}function ps(r,e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!ds(r,e[s],t[s]))return!1;return!0}function ms(r,e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!r.equals(e[s],t[s]))return!1;return!0}class C{constructor(e,t,s){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(Dr),this.options=s!=null?s:{},this.refTypeCheck=new Br(this),this.refJsonReader=new Lr(this),this.refJsonWriter=new Fr(this),this.refBinReader=new Pr(this),this.refBinWriter=new jr(this)}create(e){let t=$r(this);return e!==void 0&&St(this,t,e),t}clone(e){let t=this.create();return St(this,t,e),t}equals(e,t){return Cr(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){St(this,e,t)}fromBinary(e,t){let s=yr(t);return this.internalBinaryRead(s.readerFactory(e),e.byteLength,s)}fromJson(e,t){return this.internalJsonRead(e,Or(t))}fromJsonString(e,t){let s=JSON.parse(e);return this.fromJson(s,t)}toJson(e,t){return this.internalJsonWrite(e,Rr(t))}toJsonString(e,t){var s;let i=this.toJson(e,t);return JSON.stringify(i,null,(s=t==null?void 0:t.prettySpaces)!==null&&s!==void 0?s:0)}toBinary(e,t){let s=Ar(t);return this.internalBinaryWrite(e,s.writerFactory(),s).finish()}internalJsonRead(e,t,s){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let i=s!=null?s:this.create();return this.refJsonReader.read(e,i,t),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${Nt(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,s){return this.refBinWriter.write(e,t,s),t}internalBinaryRead(e,t,s,i){let n=i!=null?i:this.create();return this.refBinReader.read(e,n,s,t),n}}function Vr(r,e){var t,s,i;let n=r;return n.service=e,n.localName=(t=n.localName)!==null&&t!==void 0?t:Tt(n.name),n.serverStreaming=!!n.serverStreaming,n.clientStreaming=!!n.clientStreaming,n.options=(s=n.options)!==null&&s!==void 0?s:{},n.idempotency=(i=n.idempotency)!==null&&i!==void 0?i:void 0,n}class qr{constructor(e,t,s){this.typeName=e,this.methods=t.map(i=>Vr(i,this)),this.options=s!=null?s:{}}}class F extends Error{constructor(e,t="UNKNOWN",s){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=s!=null?s:{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[s,i]of t)e.push(`  ${s}: ${i}`)}return e.join(`
`)}}function Gr(r,e){if(!e)return r;let t={};tt(r,t),tt(e,t);for(let s of Object.keys(e)){let i=e[s];switch(s){case"jsonOptions":t.jsonOptions=xr(r.jsonOptions,t.jsonOptions);break;case"binaryOptions":t.binaryOptions=mr(r.binaryOptions,t.binaryOptions);break;case"meta":t.meta={},tt(r.meta,t.meta),tt(e.meta,t.meta);break;case"interceptors":t.interceptors=r.interceptors?r.interceptors.concat(i):i.concat();break}}return t}function tt(r,e){if(!r)return;let t=e;for(let[s,i]of Object.entries(r))i instanceof Date?t[s]=new Date(i.getTime()):Array.isArray(i)?t[s]=i.concat():t[s]=i}var Q;(function(r){r[r.PENDING=0]="PENDING",r[r.REJECTED=1]="REJECTED",r[r.RESOLVED=2]="RESOLVED"})(Q||(Q={}));class he{constructor(e=!0){this._state=Q.PENDING,this._promise=new Promise((t,s)=>{this._resolve=t,this._reject=s}),e&&this._promise.catch(t=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==Q.PENDING)throw new Error(`cannot resolve ${Q[this.state].toLowerCase()}`);this._resolve(e),this._state=Q.RESOLVED}reject(e){if(this.state!==Q.PENDING)throw new Error(`cannot reject ${Q[this.state].toLowerCase()}`);this._reject(e),this._state=Q.REJECTED}resolvePending(e){this._state===Q.PENDING&&this.resolve(e)}rejectPending(e){this._state===Q.PENDING&&this.reject(e)}}class Kr{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,t){return t.push(e),()=>{let s=t.indexOf(e);s>=0&&t.splice(s,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return this._closed!==!1}notifyNext(e,t,s){O((e?1:0)+(t?1:0)+(s?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),t&&this.notifyError(t),s&&this.notifyComplete()}notifyMessage(e){O(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(e,void 0,!1))}notifyError(e){O(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(void 0,e,!1)),this.clearLis()}notifyComplete(){O(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(e=>e()),this._lis.nxt.forEach(e=>e(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let e=this._itState;O(e,"bad state"),O(!e.p,"iterator contract broken");let t=e.q.shift();return t?"value"in t?Promise.resolve(t):Promise.reject(t):(e.p=new he,e.p.promise)}}}pushIt(e){let t=this._itState;if(t)if(t.p){const s=t.p;O(s.state==Q.PENDING,"iterator contract broken"),"value"in e?s.resolve(e):s.reject(e),delete t.p}else t.q.push(e)}}var Wr=globalThis&&globalThis.__awaiter||function(r,e,t,s){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(p){try{c(s.next(p))}catch(b){o(b)}}function l(p){try{c(s.throw(p))}catch(b){o(b)}}function c(p){p.done?n(p.value):i(p.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Xr{constructor(e,t,s,i,n,o,a){this.method=e,this.requestHeaders=t,this.request=s,this.headers=i,this.response=n,this.status=o,this.trailers=a}then(e,t){return this.promiseFinished().then(s=>e?Promise.resolve(e(s)):s,s=>t?Promise.resolve(t(s)):Promise.reject(s))}promiseFinished(){return Wr(this,void 0,void 0,function*(){let[e,t,s,i]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:s,trailers:i}})}}var zr=globalThis&&globalThis.__awaiter||function(r,e,t,s){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(p){try{c(s.next(p))}catch(b){o(b)}}function l(p){try{c(s.throw(p))}catch(b){o(b)}}function c(p){p.done?n(p.value):i(p.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};class Hr{constructor(e,t,s,i,n,o,a){this.method=e,this.requestHeaders=t,this.request=s,this.headers=i,this.responses=n,this.status=o,this.trailers=a}then(e,t){return this.promiseFinished().then(s=>e?Promise.resolve(e(s)):s,s=>t?Promise.resolve(t(s)):Promise.reject(s))}promiseFinished(){return zr(this,void 0,void 0,function*(){let[e,t,s]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:t,trailers:s}})}}function re(r,e,t,s,i){var n,o,a,l;if(r=="unary"){let c=(p,b,h)=>e.unary(p,b,h);for(const p of((n=s.interceptors)!==null&&n!==void 0?n:[]).filter(b=>b.interceptUnary).reverse()){const b=c;c=(h,f,u)=>p.interceptUnary(b,h,f,u)}return c(t,i,s)}if(r=="serverStreaming"){let c=(p,b,h)=>e.serverStreaming(p,b,h);for(const p of((o=s.interceptors)!==null&&o!==void 0?o:[]).filter(b=>b.interceptServerStreaming).reverse()){const b=c;c=(h,f,u)=>p.interceptServerStreaming(b,h,f,u)}return c(t,i,s)}if(r=="clientStreaming"){let c=(p,b)=>e.clientStreaming(p,b);for(const p of((a=s.interceptors)!==null&&a!==void 0?a:[]).filter(b=>b.interceptClientStreaming).reverse()){const b=c;c=(h,f)=>p.interceptClientStreaming(b,h,f)}return c(t,s)}if(r=="duplex"){let c=(p,b)=>e.duplex(p,b);for(const p of((l=s.interceptors)!==null&&l!==void 0?l:[]).filter(b=>b.interceptDuplex).reverse()){const b=c;c=(h,f)=>p.interceptDuplex(b,h,f)}return c(t,s)}kr(r)}var g;(function(r){r[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS"})(g||(g={}));var Zr=globalThis&&globalThis.__awaiter||function(r,e,t,s){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(p){try{c(s.next(p))}catch(b){o(b)}}function l(p){try{c(s.throw(p))}catch(b){o(b)}}function c(p){p.done?n(p.value):i(p.value).then(a,l)}c((s=s.apply(r,e||[])).next())})};function bs(r,e,t,s,i){if(s)for(let[n,o]of Object.entries(s))if(typeof o=="string")r.append(n,o);else for(let a of o)r.append(n,a);if(r.set("Content-Type",e==="text"?"application/grpc-web-text":"application/grpc-web+proto"),e=="text"&&r.set("Accept","application/grpc-web-text"),r.set("X-Grpc-Web","1"),i&&r.set("X-User-Agent",i),typeof t=="number"){if(t<=0)throw new F(`timeout ${t} ms exceeded`,g[g.DEADLINE_EXCEEDED]);r.set("grpc-timeout",`${t}m`)}else if(t){const n=t.getTime(),o=Date.now();if(n<=o)throw new F(`deadline ${t} exceeded`,g[g.DEADLINE_EXCEEDED]);r.set("grpc-timeout",`${n-o}m`)}return r}function ws(r,e){let t=new Uint8Array(5+r.length);t[0]=ie.DATA;for(let s=r.length,i=4;i>0;i--)t[i]=s%256,s>>>=8;return t.set(r,5),e==="binary"?t:rs(t)}function Ot(r,e,t){if(arguments.length===1){let l=r,c;try{c=l.type}catch(p){}switch(c){case"error":case"opaque":case"opaqueredirect":throw new F(`fetch response type ${l.type}`,g[g.UNKNOWN])}return Ot(ei(l.headers),l.status,l.statusText)}let s=r,i=e>=200&&e<300,n=Ns(s),[o,a]=ks(s);return(o===void 0||o===g.OK)&&!i&&(o=ti(e),a=t),[o,a,n]}function gs(r){let e=Qr(r),[t,s]=ks(e),i=Ns(e);return[t!=null?t:g.OK,s,i]}var ie;(function(r){r[r.DATA=0]="DATA",r[r.TRAILER=128]="TRAILER"})(ie||(ie={}));function ys(r,e,t){return Zr(this,void 0,void 0,function*(){let s,i="",n=new Uint8Array(0),o=Yr(e);if(Jr(r)){let a=r.getReader();s={next:()=>a.read()}}else s=r[Symbol.asyncIterator]();for(;;){let a=yield s.next();if(a.value!==void 0){if(o==="text"){for(let c=0;c<a.value.length;c++)i+=String.fromCharCode(a.value[c]);let l=i.length-i.length%4;if(l===0)continue;n=Es(n,ss(i.substring(0,l))),i=i.substring(l)}else n=Es(n,a.value);for(;n.length>=5&&n[0]===ie.DATA;){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];if(n.length-5>=l)t(ie.DATA,n.subarray(5,5+l)),n=n.subarray(5+l);else break}}if(a.done){if(n.length===0)break;if(n[0]!==ie.TRAILER||n.length<5)throw new F("premature EOF",g[g.DATA_LOSS]);t(ie.TRAILER,n.subarray(5));break}}})}const Jr=r=>typeof r.getReader=="function";function Es(r,e){let t=new Uint8Array(r.length+e.length);return t.set(r),t.set(e,r.length),t}function Yr(r){switch(r){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new F("missing response content type",g[g.INTERNAL]);default:throw new F("unexpected response content type: "+r,g[g.INTERNAL])}}function ks(r){let e,t,s=r["grpc-message"];if(s!==void 0){if(Array.isArray(s))return[g.INTERNAL,"invalid grpc-web message"];t=s}let i=r["grpc-status"];if(i!==void 0){if(Array.isArray(i))return[g.INTERNAL,"invalid grpc-web status"];if(e=parseInt(i,10),g[e]===void 0)return[g.INTERNAL,"invalid grpc-web status"]}return[e,t]}function Ns(r){let e={};for(let[t,s]of Object.entries(r))switch(t){case"grpc-message":case"grpc-status":case"content-type":break;default:e[t]=s}return e}function Qr(r){let e={};for(let t of String.fromCharCode.apply(String,r).trim().split(`\r
`)){if(t=="")continue;let[s,...i]=t.split(":");const n=i.join(":").trim();s=s.trim();let o=e[s];typeof o=="string"?e[s]=[o,n]:Array.isArray(o)?o.push(n):e[s]=n}return e}function ei(r){let e={};return r.forEach((t,s)=>{let i=e[s];typeof i=="string"?e[s]=[i,t]:Array.isArray(i)?i.push(t):e[s]=t}),e}function ti(r){switch(r){case 200:return g.OK;case 400:return g.INVALID_ARGUMENT;case 401:return g.UNAUTHENTICATED;case 403:return g.PERMISSION_DENIED;case 404:return g.NOT_FOUND;case 409:return g.ABORTED;case 412:return g.FAILED_PRECONDITION;case 429:return g.RESOURCE_EXHAUSTED;case 499:return g.CANCELLED;case 500:return g.UNKNOWN;case 501:return g.UNIMPLEMENTED;case 503:return g.UNAVAILABLE;case 504:return g.DEADLINE_EXCEEDED;default:return g.UNKNOWN}}class si{constructor(e){this.defaultOptions=e}mergeOptions(e){return Gr(this.defaultOptions,e)}makeUrl(e,t){let s=t.baseUrl;return s.endsWith("/")&&(s=s.substring(0,s.length-1)),`${s}/${e.service.typeName}/${e.name}`}clientStreaming(e){const t=new F("Client streaming is not supported by grpc-web",g[g.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){const t=new F("Duplex streaming is not supported by grpc-web",g[g.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e,t,s){var i,n,o,a;let l=s,c=(i=l.format)!==null&&i!==void 0?i:"text",p=(n=l.fetchInit)!==null&&n!==void 0?n:{},b=this.makeUrl(e,l),h=e.I.toBinary(t,l.binaryOptions),f=new he,u=new Kr,m=!0,w,M=new he,G,N=new he;return globalThis.fetch(b,Object.assign(Object.assign({},p),{method:"POST",headers:bs(new globalThis.Headers,c,l.timeout,l.meta),body:ws(h,c),signal:(o=s.abort)!==null&&o!==void 0?o:null})).then(E=>{let[k,j,K]=Ot(E);if(f.resolve(K),k!=null&&k!==g.OK)throw new F(j!=null?j:g[k],g[k],K);return k!=null&&(w={code:g[k],detail:j!=null?j:g[k]}),E}).then(E=>{if(!E.body)throw new F("missing response body",g[g.INTERNAL]);return ys(E.body,E.headers.get("content-type"),(k,j)=>{switch(k){case ie.DATA:u.notifyMessage(e.O.fromBinary(j,l.binaryOptions)),m=!1;break;case ie.TRAILER:let K,H;[K,H,G]=gs(j),w={code:g[K],detail:H!=null?H:g[K]};break}})}).then(()=>{if(!G&&!m)throw new F("missing trailers",g[g.DATA_LOSS]);if(!w)throw new F("missing status",g[g.INTERNAL]);if(w.code!=="OK")throw new F(w.detail,w.code,G);u.notifyComplete(),M.resolve(w),N.resolve(G||{})}).catch(E=>{let k;E instanceof F?k=E:E instanceof Error&&E.name==="AbortError"?k=new F(E.message,g[g.CANCELLED]):k=new F(E instanceof Error?E.message:""+E,g[g.INTERNAL]),k.methodName=e.name,k.serviceName=e.service.typeName,f.rejectPending(k),u.notifyError(k),M.rejectPending(k),N.rejectPending(k)}),new Hr(e,(a=l.meta)!==null&&a!==void 0?a:{},t,f.promise,u,M.promise,N.promise)}unary(e,t,s){var i,n,o,a;let l=s,c=(i=l.format)!==null&&i!==void 0?i:"text",p=(n=l.fetchInit)!==null&&n!==void 0?n:{},b=this.makeUrl(e,l),h=e.I.toBinary(t,l.binaryOptions),f=new he,u,m=new he,w,M=new he,G,N=new he;return globalThis.fetch(b,Object.assign(Object.assign({},p),{method:"POST",headers:bs(new globalThis.Headers,c,l.timeout,l.meta),body:ws(h,c),signal:(o=s.abort)!==null&&o!==void 0?o:null})).then(E=>{let[k,j,K]=Ot(E);if(f.resolve(K),k!=null&&k!==g.OK)throw new F(j!=null?j:g[k],g[k],K);return k!=null&&(w={code:g[k],detail:j!=null?j:g[k]}),E}).then(E=>{if(!E.body)throw new F("missing response body",g[g.INTERNAL]);return ys(E.body,E.headers.get("content-type"),(k,j)=>{switch(k){case ie.DATA:if(u)throw new F("unary call received 2nd message",g[g.DATA_LOSS]);u=e.O.fromBinary(j,l.binaryOptions);break;case ie.TRAILER:let K,H;[K,H,G]=gs(j),w={code:g[K],detail:H!=null?H:g[K]};break}})}).then(()=>{if(!G&&u)throw new F("missing trailers",g[g.DATA_LOSS]);if(!w)throw new F("missing status",g[g.INTERNAL]);if(!u&&w.code==="OK")throw new F("expected error status",g[g.DATA_LOSS]);if(!u)throw new F(w.detail,w.code,G);if(m.resolve(u),w.code!=="OK")throw new F(w.detail,w.code,G);M.resolve(w),N.resolve(G||{})}).catch(E=>{let k;E instanceof F?k=E:E instanceof Error&&E.name==="AbortError"?k=new F(E.message,g[g.CANCELLED]):k=new F(E instanceof Error?E.message:""+E,g[g.INTERNAL]),k.methodName=e.name,k.serviceName=e.service.typeName,f.rejectPending(k),m.rejectPending(k),M.rejectPending(k),N.rejectPending(k)}),new Xr(e,(a=l.meta)!==null&&a!==void 0?a:{},t,f.promise,m.promise,M.promise,N.promise)}}var ri=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ii(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rt={exports:{}};(function(r,e){(function(t,s){var i="1.0.36",n="",o="?",a="function",l="undefined",c="object",p="string",b="major",h="model",f="name",u="type",m="vendor",w="version",M="architecture",G="console",N="mobile",E="tablet",k="smarttv",j="wearable",K="embedded",H=350,at="Amazon",qe="Apple",xs="ASUS",Us="BlackBerry",Se="Browser",lt="Chrome",In="Edge",ct="Firefox",ut="Google",Ds="Huawei",Ct="LG",Vt="Microsoft",Ms="Motorola",ht="Opera",qt="Samsung",Bs="Sharp",ft="Sony",Gt="Xiaomi",Kt="Zebra",Ls="Facebook",Fs="Chromium OS",Ps="Mac OS",Tn=function(U,B){var I={};for(var $ in U)B[$]&&B[$].length%2===0?I[$]=B[$].concat(U[$]):I[$]=U[$];return I},dt=function(U){for(var B={},I=0;I<U.length;I++)B[U[I].toUpperCase()]=U[I];return B},js=function(U,B){return typeof U===p?Ge(B).indexOf(Ge(U))!==-1:!1},Ge=function(U){return U.toLowerCase()},An=function(U){return typeof U===p?U.replace(/[^\d\.]/g,n).split(".")[0]:s},Wt=function(U,B){if(typeof U===p)return U=U.replace(/^\s\s*/,n),typeof B===l?U:U.substring(0,H)},Ke=function(U,B){for(var I=0,$,de,ae,D,_,le;I<B.length&&!_;){var zt=B[I],Vs=B[I+1];for($=de=0;$<zt.length&&!_&&zt[$];)if(_=zt[$++].exec(U),_)for(ae=0;ae<Vs.length;ae++)le=_[++de],D=Vs[ae],typeof D===c&&D.length>0?D.length===2?typeof D[1]==a?this[D[0]]=D[1].call(this,le):this[D[0]]=D[1]:D.length===3?typeof D[1]===a&&!(D[1].exec&&D[1].test)?this[D[0]]=le?D[1].call(this,le,D[2]):s:this[D[0]]=le?le.replace(D[1],D[2]):s:D.length===4&&(this[D[0]]=le?D[3].call(this,le.replace(D[1],D[2])):s):this[D]=le||s;I+=2}},Xt=function(U,B){for(var I in B)if(typeof B[I]===c&&B[I].length>0){for(var $=0;$<B[I].length;$++)if(js(B[I][$],U))return I===o?s:I}else if(js(B[I],U))return I===o?s:I;return U},Sn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},$s={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Cs={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,w],[/opios[\/ ]+([\w\.]+)/i],[w,[f,ht+" Mini"]],[/\bopr\/([\w\.]+)/i],[w,[f,ht]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,w],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[f,"UC"+Se]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[w,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[w,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+Se],w],[/\bfocus\/([\w\.]+)/i],[w,[f,ct+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[f,ht+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[f,ht+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[f,"MIUI "+Se]],[/fxios\/([-\w\.]+)/i],[w,[f,ct]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+Se]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+Se],w],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,w],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Ls],w],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[f,lt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,lt+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[f,"Android "+Se]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[w,Xt,Sn]],[/(webkit|khtml)\/([\w\.]+)/i],[f,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[f,ct+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,w],[/(cobalt)\/([\w\.]+)/i],[f,[w,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[M,"amd64"]],[/(ia32(?=;))/i],[[M,Ge]],[/((?:i[346]|x)86)[;\)]/i],[[M,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[M,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[M,"armhf"]],[/windows (ce|mobile); ppc;/i],[[M,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[M,/ower/,n,Ge]],[/(sun4\w)[;\)]/i],[[M,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[M,Ge]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[m,qt],[u,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[m,qt],[u,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[m,qe],[u,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[m,qe],[u,E]],[/(macintosh);/i],[h,[m,qe]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[m,Bs],[u,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[m,Ds],[u,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[m,Ds],[u,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[m,Gt],[u,N]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[m,Gt],[u,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[m,"OPPO"],[u,N]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[m,"Vivo"],[u,N]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[m,"Realme"],[u,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[m,Ms],[u,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[m,Ms],[u,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[m,Ct],[u,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[m,Ct],[u,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[m,"Lenovo"],[u,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[m,"Nokia"],[u,N]],[/(pixel c)\b/i],[h,[m,ut],[u,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[m,ut],[u,N]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[m,ft],[u,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[m,ft],[u,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[m,"OnePlus"],[u,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[m,at],[u,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[m,at],[u,N]],[/(playbook);[-\w\),; ]+(rim)/i],[h,m,[u,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[m,Us],[u,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[m,xs],[u,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[m,xs],[u,N]],[/(nexus 9)/i],[h,[m,"HTC"],[u,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[h,/_/g," "],[u,N]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[m,"Acer"],[u,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[m,"Meizu"],[u,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,h,[u,N]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,h,[u,E]],[/(surface duo)/i],[h,[m,Vt],[u,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[m,"Fairphone"],[u,N]],[/(u304aa)/i],[h,[m,"AT&T"],[u,N]],[/\bsie-(\w*)/i],[h,[m,"Siemens"],[u,N]],[/\b(rct\w+) b/i],[h,[m,"RCA"],[u,E]],[/\b(venue[\d ]{2,7}) b/i],[h,[m,"Dell"],[u,E]],[/\b(q(?:mv|ta)\w+) b/i],[h,[m,"Verizon"],[u,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[m,"Barnes & Noble"],[u,E]],[/\b(tm\d{3}\w+) b/i],[h,[m,"NuVision"],[u,E]],[/\b(k88) b/i],[h,[m,"ZTE"],[u,E]],[/\b(nx\d{3}j) b/i],[h,[m,"ZTE"],[u,N]],[/\b(gen\d{3}) b.+49h/i],[h,[m,"Swiss"],[u,N]],[/\b(zur\d{3}) b/i],[h,[m,"Swiss"],[u,E]],[/\b((zeki)?tb.*\b) b/i],[h,[m,"Zeki"],[u,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],h,[u,E]],[/\b(ns-?\w{0,9}) b/i],[h,[m,"Insignia"],[u,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[m,"NextBook"],[u,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],h,[u,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],h,[u,N]],[/\b(ph-1) /i],[h,[m,"Essential"],[u,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[m,"Envizen"],[u,E]],[/\b(trio[-\w\. ]+) b/i],[h,[m,"MachSpeed"],[u,E]],[/\btu_(1491) b/i],[h,[m,"Rotor"],[u,E]],[/(shield[\w ]+) b/i],[h,[m,"Nvidia"],[u,E]],[/(sprint) (\w+)/i],[m,h,[u,N]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[m,Vt],[u,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[m,Kt],[u,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[m,Kt],[u,N]],[/smart-tv.+(samsung)/i],[m,[u,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[m,qt],[u,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,Ct],[u,k]],[/(apple) ?tv/i],[m,[h,qe+" TV"],[u,k]],[/crkey/i],[[h,lt+"cast"],[m,ut],[u,k]],[/droid.+aft(\w+)( bui|\))/i],[h,[m,at],[u,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[m,Bs],[u,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[m,ft],[u,k]],[/(mitv-\w{5}) bui/i],[h,[m,Gt],[u,k]],[/Hbbtv.*(technisat) (.*);/i],[m,h,[u,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Wt],[h,Wt],[u,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,h,[u,G]],[/droid.+; (shield) bui/i],[h,[m,"Nvidia"],[u,G]],[/(playstation [345portablevi]+)/i],[h,[m,ft],[u,G]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[m,Vt],[u,G]],[/((pebble))app/i],[m,h,[u,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[m,qe],[u,j]],[/droid.+; (glass) \d/i],[h,[m,ut],[u,j]],[/droid.+; (wt63?0{2,3})\)/i],[h,[m,Kt],[u,j]],[/(quest( 2| pro)?)/i],[h,[m,Ls],[u,j]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[u,K]],[/(aeobc)\b/i],[h,[m,at],[u,K]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[u,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[u,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,N]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[f,In+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,w],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,w],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[w,Xt,$s]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[w,Xt,$s]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Ps],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,w],[/\(bb(10);/i],[w,[f,Us]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[w,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[f,ct+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[f,lt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Fs],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,w],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,w]]},ne=function(U,B){if(typeof U===c&&(B=U,U=s),!(this instanceof ne))return new ne(U,B).getResult();var I=typeof t!==l&&t.navigator?t.navigator:s,$=U||(I&&I.userAgent?I.userAgent:n),de=I&&I.userAgentData?I.userAgentData:s,ae=B?Tn(Cs,B):Cs,D=I&&I.userAgent==$;return this.getBrowser=function(){var _={};return _[f]=s,_[w]=s,Ke.call(_,$,ae.browser),_[b]=An(_[w]),D&&I&&I.brave&&typeof I.brave.isBrave==a&&(_[f]="Brave"),_},this.getCPU=function(){var _={};return _[M]=s,Ke.call(_,$,ae.cpu),_},this.getDevice=function(){var _={};return _[m]=s,_[h]=s,_[u]=s,Ke.call(_,$,ae.device),D&&!_[u]&&de&&de.mobile&&(_[u]=N),D&&_[h]=="Macintosh"&&I&&typeof I.standalone!==l&&I.maxTouchPoints&&I.maxTouchPoints>2&&(_[h]="iPad",_[u]=E),_},this.getEngine=function(){var _={};return _[f]=s,_[w]=s,Ke.call(_,$,ae.engine),_},this.getOS=function(){var _={};return _[f]=s,_[w]=s,Ke.call(_,$,ae.os),D&&!_[f]&&de&&de.platform!="Unknown"&&(_[f]=de.platform.replace(/chrome os/i,Fs).replace(/macos/i,Ps)),_},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return $},this.setUA=function(_){return $=typeof _===p&&_.length>H?Wt(_,H):_,this},this.setUA($),this};ne.VERSION=i,ne.BROWSER=dt([f,w,b]),ne.CPU=dt([M]),ne.DEVICE=dt([h,m,u,G,N,k,E,j,K]),ne.ENGINE=ne.OS=dt([f,w]),r.exports&&(e=r.exports=ne),e.UAParser=ne;var Oe=typeof t!==l&&(t.jQuery||t.Zepto);if(Oe&&!Oe.ua){var pt=new ne;Oe.ua=pt.getResult(),Oe.ua.get=function(){return pt.getUA()},Oe.ua.set=function(U){pt.setUA(U);var B=pt.getResult();for(var I in B)Oe.ua[I]=B[I]}}})(typeof window=="object"?window:ri)})(Rt,Rt.exports);var ni=Rt.exports;const oi=ii(ni),{browser:vs,os:_s,device:ai}=new oi().getResult();function li(r,e,t){var s;return new si(Gs(Z({baseUrl:r,timeout:10*1e3,fetchInit:{credentials:"include"}},e),{meta:Z({SP_THINKING_APP_NAME:"moegirl-web",MOBILEDEVICEID:`WebApp/gRPC-web ${location.host} [anonymous]`,SP_THINKING_BUNDLE_ID:"WebApp",SP_THINKING_OS:_s.name||"",SP_THINKING_SYSTEM_LANGUAGE:navigator.language,SP_THINKING_DEVICE_MODEL:ai.model||"",SP_THINKING_DEVICE_ID:"",SP_THINKING_CARRIER:"",SP_THINKING_MANUFACTURE:vs.name||"",SP_THINKING_NETWORK_TYPE:((s=navigator==null?void 0:navigator.connection)==null?void 0:s.type)||"",SP_THINKING_OS_VERSION:_s.version||"",SP_THINKING_ZONE_OFFSET:""+new Date().getTimezoneOffset(),SP_THINKING_APP_VERSION:vs.version||""},t)}))}var xt;(function(r){r[r.TEN_YEAR_ANNIVERSARY=0]="TEN_YEAR_ANNIVERSARY"})(xt||(xt={}));var Ut;(function(r){r[r.FIRST_EDIT=0]="FIRST_EDIT"})(Ut||(Ut={}));var Dt;(function(r){r[r.EDITOR=0]="EDITOR"})(Dt||(Dt={}));class ci extends C{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const e=this.create(),t=Date.now();return e.seconds=P.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(P.from(e.seconds).toNumber()*1e3+Math.ceil(e.nanos/1e6))}fromDate(e){const t=this.create(),s=e.getTime();return t.seconds=P.from(Math.floor(s/1e3)).toString(),t.nanos=s%1e3*1e6,t}internalJsonWrite(e,t){let s=P.from(e.seconds).toNumber()*1e3;if(s<Date.parse("0001-01-01T00:00:00Z")||s>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let i="Z";if(e.nanos>0){let n=(e.nanos+1e9).toString().substring(1);n.substring(3)==="000000"?i="."+n.substring(0,3)+"Z":n.substring(6)==="000"?i="."+n.substring(0,6)+"Z":i="."+n+"Z"}return new Date(s).toISOString().replace(".000Z",i)}internalJsonRead(e,t,s){if(typeof e!="string")throw new Error("Unable to parse Timestamp from JSON "+Nt(e)+".");let i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let n=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(n))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return s||(s=this.create()),s.seconds=P.from(n/1e3).toString(),s.nanos=0,i[7]&&(s.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),s}}const ui=new ci;var st;(function(r){r[r.CHECKIN=0]="CHECKIN",r[r.USAGETIME=1]="USAGETIME",r[r.REVIEW=2]="REVIEW",r[r.SHARE=3]="SHARE",r[r.SPECIAL_CONTRIBUTION=4]="SPECIAL_CONTRIBUTION",r[r.PUNISHMENT=5]="PUNISHMENT",r[r.FIRST_TIME_LOGIN=6]="FIRST_TIME_LOGIN",r[r.FIRST_TIME_SET_MOBILE=7]="FIRST_TIME_SET_MOBILE",r[r.FIRST_TIME_SET_EMAIL=8]="FIRST_TIME_SET_EMAIL",r[r.FIRST_TIME_SET_AVATAR=9]="FIRST_TIME_SET_AVATAR"})(st||(st={}));class hi extends C{constructor(){super("moegirl.moepad.type.MoePower",[{no:1,name:"moe_power_value",kind:"scalar",T:5},{no:2,name:"moe_power_record_number",kind:"scalar",T:3},{no:3,name:"moe_power_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.MoePowerType",st]},{no:4,name:"moe_power_create_time",kind:"message",T:()=>ui},{no:5,name:"revoked",kind:"scalar",T:8}])}}const fi=new hi;class di extends C{constructor(){super("moegirl.moepad.type.UserExtraMoePower",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"moe_power_record",kind:"message",repeat:1,T:()=>fi},{no:3,name:"total_moe_power",kind:"scalar",T:3},{no:4,name:"total_moe_power_record_number",kind:"scalar",T:3},{no:5,name:"check_in_times_today",kind:"scalar",T:5},{no:6,name:"usage_times_today",kind:"scalar",T:5},{no:7,name:"review_times_today",kind:"scalar",T:5},{no:8,name:"share_times_today",kind:"scalar",T:5}])}}const Mt=new di;var Ue;(function(r){r[r.FREE_MEMBERSHIP=0]="FREE_MEMBERSHIP",r[r.BASIC_MEMBERSHIP=1]="BASIC_MEMBERSHIP"})(Ue||(Ue={}));class pi extends C{constructor(){super("moegirl.moepad.SetUserMembershipRequest",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"user_membership",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserMembership",Ue]},{no:3,name:"expiry_in_seconds",kind:"scalar",T:3}])}}const mi=new pi;class bi extends C{constructor(){super("moegirl.moepad.SetUserMembershipResponse",[])}}const wi=new bi;class gi extends C{constructor(){super("moegirl.moepad.GetUserMembershipRequest",[])}}const yi=new gi;class Ei extends C{constructor(){super("moegirl.moepad.GetUserMembershipResponse",[{no:1,name:"user_membership",kind:"enum",T:()=>["moegirl.moepad.config_enums.UserMembership",Ue]},{no:2,name:"expiry_in_seconds",kind:"scalar",T:3}])}}const ki=new Ei;class Ni extends C{constructor(){super("moegirl.moepad.AddMoePowerRequest",[{no:1,name:"moe_power_type",kind:"enum",T:()=>["moegirl.moepad.config_enums.MoePowerType",st]},{no:2,name:"user_id",kind:"scalar",T:5}])}}const vi=new Ni;class _i extends C{constructor(){super("moegirl.moepad.AddMoePowerResponse",[])}}const Ii=new _i;class Ti extends C{constructor(){super("moegirl.moepad.GetUserExtraMoePowerAllRecordRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const Ai=new Ti;class Si extends C{constructor(){super("moegirl.moepad.GetUserExtraMoePowerPageRequest",[{no:1,name:"user_id",kind:"scalar",T:5},{no:2,name:"page_number",kind:"scalar",T:5},{no:3,name:"page_size",kind:"scalar",T:5}])}}const Oi=new Si;class Ri extends C{constructor(){super("moegirl.moepad.GetUserMoePowerRankRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const xi=new Ri;class Ui extends C{constructor(){super("moegirl.moepad.GetUserMoePowerRankResponse",[{no:1,name:"rank",kind:"scalar",T:3}])}}const Di=new Ui;class Mi extends C{constructor(){super("moegirl.moepad.GetUserMoePowerMetadataRequest",[{no:1,name:"user_id",kind:"scalar",T:5}])}}const Bi=new Mi;class Li extends C{constructor(){super("moegirl.moepad.GetUserMoePowerMetadataResponse",[{no:1,name:"user_extra_moe_power",kind:"message",T:()=>Mt}])}}const Fi=new Li;class Pi extends C{constructor(){super("moegirl.moepad.AddUserGroupToUserRequest",[{no:1,name:"user_group",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserGroup",Dt]}])}}const ji=new Pi;class $i extends C{constructor(){super("moegirl.moepad.AddUserGroupToUserResponse",[])}}const Ci=new $i;class Vi extends C{constructor(){super("moegirl.moepad.AddAchievementToUserRequest",[{no:1,name:"user_achievement",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserAchievement",Ut]}])}}const qi=new Vi;class Gi extends C{constructor(){super("moegirl.moepad.AddAchievementToUserResponse",[])}}const Ki=new Gi;class Wi extends C{constructor(){super("moegirl.moepad.AddBadgeToUserRequest",[{no:1,name:"user_badge",kind:"enum",repeat:1,T:()=>["moegirl.moepad.config_enums.UserBadge",xt]}])}}const Xi=new Wi;class zi extends C{constructor(){super("moegirl.moepad.AddBadgeToUserResponse",[])}}const Hi=new zi;class Zi extends C{constructor(){super("moegirl.moepad.LikeNumberToUserRequest",[])}}const Ji=new Zi;class Yi extends C{constructor(){super("moegirl.moepad.LikeNumberToUserResponse",[{no:1,name:"like_number",kind:"scalar",T:5}])}}const Qi=new Yi,Bt=new qr("moegirl.moepad.MoepadUserService",[{name:"AddMoePowerToUser",options:{},I:vi,O:Ii},{name:"GetUserExtraMoePowerAllRecord",options:{},I:Ai,O:Mt},{name:"GetUserExtraMoePowerPaged",options:{},I:Oi,O:Mt},{name:"GetUserMoePowerRank",options:{},I:xi,O:Di},{name:"GetUserMoePowerMetadata",options:{},I:Bi,O:Fi},{name:"AddUserGroupToUser",options:{},I:ji,O:Ci},{name:"AddAchievementToUser",options:{},I:qi,O:Ki},{name:"AddBadgeToUser",options:{},I:Xi,O:Hi},{name:"LikeNumberToUser",options:{},I:Ji,O:Qi},{name:"SetUserMemberShip",options:{},I:mi,O:wi},{name:"GetUserMemberShip",options:{},I:yi,O:ki}]);class en{constructor(e){this._transport=e,this.typeName=Bt.typeName,this.methods=Bt.methods,this.options=Bt.options}addMoePowerToUser(e,t){const s=this.methods[0],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}getUserExtraMoePowerAllRecord(e,t){const s=this.methods[1],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}getUserExtraMoePowerPaged(e,t){const s=this.methods[2],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}getUserMoePowerRank(e,t){const s=this.methods[3],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}getUserMoePowerMetadata(e,t){const s=this.methods[4],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}addUserGroupToUser(e,t){const s=this.methods[5],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}addAchievementToUser(e,t){const s=this.methods[6],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}addBadgeToUser(e,t){const s=this.methods[7],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}likeNumberToUser(e,t){const s=this.methods[8],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}setUserMemberShip(e,t){const s=this.methods[9],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}getUserMemberShip(e,t){const s=this.methods[10],i=this._transport.mergeOptions(t);return re("unary",this._transport,s,i,e)}}class tn extends kt{constructor(t){super(t,"grpc");v(this,"transport",li("https://api.moegirl.org.cn",{},{}));v(this,"userService",new en(this.transport));this.ctx=t}}class Is extends kt{constructor(t){super(t,"user",!1);v(this,"_memberShip");v(this,"client");this.ctx=t,this.client=this.ctx.grpc.userService}start(){return A(this,null,function*(){yield this.refreshMembership()})}refreshMembership(){return A(this,null,function*(){return this.client.getUserMemberShip({}).then(({response:t})=>(this._memberShip=t,t)).catch(t=>{})})}isVIP(){var t;return!!(this._memberShip&&typeof this._memberShip.userMembership=="number"&&((t=this._memberShip)==null?void 0:t.userMembership)!==Ue.FREE_MEMBERSHIP&&Date.now()<=+this._memberShip.expiryInSeconds*1e3)}}v(Is,"using",["grpc"]);function x(r,e,t){const s=document.createElement(r);if((e instanceof Element||typeof e=="string")&&(e=[e]),Array.isArray(e))s.append(...e);else if(e){const i=e;Object.keys(i).forEach(n=>{typeof n!="undefined"&&s.setAttribute(n,""+i[n])})}return(t instanceof Element||typeof t=="string")&&(t=[t]),Array.isArray(t)&&s.append(...t),s}function sn(r,e){const t=Date.now();let s=new Date(r).getTime(),i=new Date(e).getTime();return[s,i].includes(NaN)?!0:(s>i&&([s,i]=[i,s]),t>s&&t<i)}function rn(r=""){const e=Ts(r),t=Date.now(),s=localStorage.getItem(e)||"";let i=0;try{i=an(s).getTime()}catch(n){return!1}return!(isNaN(i)||i-t<0||i-t>24*60*60*1e3)}function nn(r="",e=0){const t=Ts(r),s=Date.now(),i=new Date(s+e);return localStorage.setItem(t,on(i)),i}const rt=r=>r.split("").reverse().join(""),Ts=(r="")=>btoa(`MoegirlInsight-dissmiss-${r}`),on=r=>rt(btoa(rt(r.toISOString()))),an=r=>new Date(rt(atob(rt(r))));class it extends V{constructor(e,t){super(),this.config=e,this.options=t}apply(e){return x("div")}}class nt extends it{constructor(e){super(e),this.config=e,window.adsbygoogle=window.adsbygoogle||[];const t=new URL(e.links_to).searchParams.get("adClient");t&&!document.querySelector(`script[insight-slot="adsense"][client="${t}"]`)&&document.body.append(x("script",{src:`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?${new URLSearchParams({client:t})}`,async:!0,crossOrigin:"anonymous",client:t,"insight-slot":"adsense"}))}apply(e){var o;const t=nt.createNode(this.config),s=x("span",{style:"font-family:monospace;line-height:0;word-break:break-all"},"0".repeat(document.documentElement.clientWidth));if(!t.style.width){e.append(s);const a=s.offsetWidth;t.dataset.availableWidth=""+a,t.style.width=`${a}px`,s.style.display="none"}e.append(t),setTimeout(()=>{adsbygoogle.push({})});const i=setTimeout(()=>{this.emit("unfilled")},((o=this.config.slot_options)==null?void 0:o.timeout)||7e3);return new MutationObserver(()=>{const a=t.dataset.adStatus;typeof a=="undefined"||(["done","unfilled"].includes(a)?(clearTimeout(i),t.remove(),this.bail("unfilled")):(clearTimeout(i),this.bail("filled")))}).observe(t,{attributes:!0,childList:!1}),t}static createNode(e){var i;const t=x("ins",{class:"adsbygoogle",style:`display:inline-block;${((i=e.slot_options)==null?void 0:i.style)||""}`}),s=Object.fromEntries(new URL(e.links_to).searchParams);for(const n in s)t.dataset[n]=s[n];return t}}class As extends it{constructor(t,s={delay:3e3}){document.querySelector('script[insight-slot="baidu-union"]')||document.body.append(x("script",{src:"https://cpro.baidustatic.com/cpro/ui/cm.js",async:!0,"insight-slot":"baidu-union"}));super(t,s);pe(this,Ee,void 0);pe(this,$e,void 0);pe(this,Ce,void 0);pe(this,Ve,void 0);this.config=t,this.options=s,ke(this,Ee,Object.fromEntries(new URL(this.config.links_to).searchParams))}apply(t){if(!t)throw new Error("Missing parent");const s=this.createNode();return t.appendChild(s),this.listenMessage(s),(window.slotbydup=window.slotbydup||[]).push({id:J(this,Ee).id,container:J(this,$e),async:!0}),s}createNode(){const t=ke(this,$e,Math.random().toString(32).substring(2)),s=x("div");return s.classList.add(t),ke(this,Ce,s.dataset.sid=J(this,Ee).id),ke(this,Ve,s.dataset.tuid=J(this,Ce)+"_"+document.querySelectorAll(`[data-sid="${J(this,Ee).id}"]`).length),s}listenMessage(t){const s=setTimeout(()=>{this.emit("unfilled")},this.options.delay);window.addEventListener("message",i=>{if(i.origin!=="https://pos.baidu.com"||!i.data)return;const n=JSON.parse(i.data);n.tuid===J(this,Ve)&&n.dspid&&(clearTimeout(s),n.dspid==="0"||n.noadx==="1"?this.emit("unfilled"):this.emit("filled"))})}}Ee=new WeakMap,$e=new WeakMap,Ce=new WeakMap,Ve=new WeakMap;function ln(r,e){const t={};return r.forEach(s=>{const i=e(s);t[i]=t[i]!=null?[...t[i],s]:[s]}),t}function cn(r,e=0){return A(this,null,function*(){if(e=Math.max(0,Math.min(1,e)),!r)return Promise.reject(new Error("Missing selector"));const t=typeof r=="string"?document.querySelector(r):r;return t?new Promise(s=>{const i=new IntersectionObserver(n=>{const{isIntersecting:o,intersectionRatio:a}=n[0];o&&a>=e&&(i.disconnect(),s(t))},{threshold:[0,1,e]});i.observe(t)}):Promise.reject(new Error("Missing parent node"))})}function Ss(r,e,t=5e3){return A(this,null,function*(){return r?r.querySelector(e)||new Promise(s=>{const i=setTimeout(()=>{n.disconnect(),s(null)},t),n=new MutationObserver(()=>{const o=r.querySelector(e);o&&(n.disconnect(),clearTimeout(i),s(o))});n.observe(r,{childList:!0,subtree:!0})}):null})}const un=["Googlebot","Googlebot-Image","Googlebot-Video","Googlebot-Mobile","Mediapartners-Google","AdsBot-Google","Bingbot","BingPreview","msnbot","Slurp","Baiduspider","BaiduImageSpider","BaiduVideoSpider","Yandex","YandexBot","YandexImages","YandexMobileBot","YandexVideo","DuckDuckBot","Sogou","Sogou web spider","Sogou spider","Sogou Orion spider","360Spider"];function hn(r=navigator.userAgent){return un.some(e=>r.includes(e))}class ue{constructor(e,t,s=!0){this.ctx=e,this.name=t,e.render[t]=this,s&&this.autoApplyInOrder()}autoApplyInOrder(){return this.relatedConfigs.length&&Object.values(this.relatedConfigsByGroup).forEach(e=>this.apply(e)),this}apply(e){}get relatedConfigs(){const e=this.ctx.configs.filter(t=>t.render===this.name&&sn(t.enable_from,t.enable_to)).filter(t=>this.checkDeviceType(t)?this.ctx.region.checkRegion(t)?!0:(this.traceEvent(t,"skipped/region-mismatch"),!1):(this.traceEvent(t,"skipped/device-mismatch"),!1));return Object.defineProperty(this,"relatedConfigs",{value:e}),e}get relatedConfigsByGroup(){const e=ln(this.relatedConfigs,t=>{var s;return(s=t.group_by)!=null?s:"__default__"});return Object.defineProperty(this,"relatedConfigsByGroup",{value:e}),e}isEnvAndUserMatched(e){return A(this,null,function*(){const t=`false-${new Date().toISOString().split("T")[0]}`,s=localStorage.getItem("moegirl-insight/force-show");if(s!==null&&["true",t].includes(s))return s==="true";const i=window.mediaWiki||window.mw;return!i||!i.config?!0:this.isSearchEngine?(this.traceEvent(e,"skipped/search-engine-bot"),!1):this.checkIsArticle()?(yield this.checkNoAdUserGroups(e))?(this.traceEvent(e,"skipped/no-ad-user-groups"),!1):this.ctx.user.isVIP()?(this.traceEvent(e,"skipped/vip-membership"),!1):(typeof e.rarity!="number"&&(e.rarity=1),Math.random()>e.rarity?(this.traceEvent(e,"skipped/rarity-mismatch"),!1):!0):(this.traceEvent(e,"skipped/not-article"),!1)})}checkIsArticle(){return mw.config.get("wgIsArticle")}checkNoAdUserGroups(e){return A(this,null,function*(){const t=e.no_ad_user_groups||[];if(!t.length)return!1;const s=yield mw.user.getGroups();return!!t.some(n=>s.includes(n))})}checkDeviceType(e){return[null,void 0,"","*","all"].includes(e.device)||e.device===this.ctx.app.deviceType}checkDismiss(e){return rn(`${this.name}/${e.group_by||"default"}`)}setDismiss(e){return e.cooldown>10*60*1e3&&(e.cooldown=10*60*1e3),e.links_to.startsWith("adsense://")&&(e.cooldown=0),nn(`${this.name}/${e.group_by||"default"}`,e.cooldown||0),this}get isSearchEngine(){const e=hn();return Object.defineProperty(this,"isSearchEngine",{value:e}),e}getSlotRender(e,t){return e.links_to.startsWith("adsense://")?nt:e.links_to.startsWith("baidu-union://")?As:(e.links_to.startsWith("http")||e.links_to.startsWith("//"))&&t||null}getSlotDescription(e){return e instanceof nt?"":e instanceof As?"":""}handleApplySlot(e){return A(this,null,function*(){return new Promise(t=>{const{slot:s,config:i,container:n}=e;s.once("filled",()=>{this.handleShown(o,i),t({slotFilled:!0,slotElement:o})}),s.once("unfilled",a=>{this.handleUnfilled(o,i,i.force_show?`force-show${a?`/${a}`:""}`:a),t({slotFilled:!!i.force_show,slotElement:o})});const o=s.apply(n)})})}handleShown(e,t){e.addEventListener("click",s=>{s.stopPropagation(),this.traceEvent(t,"clicked")}),this.getElementUntilIntoView(e,.1).then(()=>{this.traceEvent(t,"shown")})}handleUnfilled(e,t,s){this.traceEvent(t,s?`error/${s}`:"error/slot-unfilled")}get getElementUntilIntoView(){return cn}traceEvent(e,t){const s=[t,{event_category:`moegirl-insight-${this.ctx.app.deviceType}`,event_label:`${e.render_preset||this.name}:${e.links_to}`,event_origin:location.origin}];window.gtag&&window.gtag("event",...s)}}v(ue,"using",["region","user"]);const ge={root:"G3m-NvcuZk_j37srt",hidden:"dTTCfrMzSx_j37srt",container:"SChf9QLxq7_j37srt",customAsset:"IR-dIusvqI_j37srt",closeBtn:"_7otqKPYBDS_j37srt"},Lt={anchor:"_1FPtCg3X4C_j37srt",error:"JkNFrJIO3i_j37srt",assets:"_2FgGja21JS_j37srt"};class ye extends it{constructor(t){super(t);v(this,"emitted",!1);this.config=t}apply(t){const s=this.config,i=this.createAnchor(s),n=this.createAsset(s);return i.appendChild(n),this.on("unfilled",()=>{n.style.display="none",n.after(x("i",`${s.slot_options.alt||""}`)),i.classList.add(Lt.error)}),t.appendChild(i),i}createAnchor(t){const s=x(t.slot_options.type==="script"?"div":"a",{class:Lt.anchor,href:t.links_to,target:"_blank",rel:"noopener noreferrer"});return s.addEventListener("click",i=>{i.stopPropagation()}),s}createAsset(t){let s;switch(t.slot_options.type){case"image":default:s="img";break;case"video":case"iframe":s="iframe";break;case"script":s="script";break}const i=x(s,Z({src:t.slot_options.src,alt:t.slot_options.alt||"",class:Lt.assets,style:t.slot_options.style||"",loading:"lazy"},t.slot_options.attributes));if(i.addEventListener("load",()=>{this.emitted||(this.emitted=!0,this.emit("filled"))}),i.addEventListener("error",()=>{this.emitted||(this.emitted=!0,this.emit("unfilled","assets-loading-error",!0))}),t.slot_options.aspect_ratio){const[n,o]=t.slot_options.aspect_ratio.split(/\/|\*|x||\s+/).map(a=>Number(a));!isNaN(n+o)&&n>0&&o>0&&new ResizeObserver(([a])=>{i.style.height=`${i.clientWidth/n*o}px`}).observe(i)}return i}}class fn extends ue{constructor(e){super(e,"BackgroundRender"),this.ctx=e}apply(e){return A(this,null,function*(){var a;const t=e[0];if(!t||!t.render_target||!t.render_position||!(yield this.isEnvAndUserMatched(t)))return;if(this.checkDismiss(t))return this.traceEvent(t,"skipped/user-dismiss");const n=this.createNode(t),o=document.querySelector(t.render_target);if(!o)return this.traceEvent(t,"error/missing-target-element");if(t.links_to.includes("stgowan.com")){const l=n.root.querySelector(`.${ge.container}`),c=x("div",{class:`${ge.container} ${((a=t.slot_options)==null?void 0:a.class)||""}`}),p=new ye(t);l.insertAdjacentElement("afterend",c),l.remove(),this.handleApplySlot({slot:p,config:t,container:c});const b=new MutationObserver(([h])=>{var u;const[f]=h.addedNodes;if(f.nodeName==="DIV"&&f.childNodes.length===1&&((u=f.firstChild)==null?void 0:u.nodeName)==="A"){b.disconnect();const m=c.querySelector(`[href="${t.links_to}"]`);m==null||m.appendChild(f)}});b.observe(o,{attributes:!1,childList:!0}),b.observe(document.body,{attributes:!1,childList:!0})}else this.getElementUntilIntoView(n.root).then(()=>{this.traceEvent(t,"shown")});o.insertAdjacentElement(t.render_position||"beforeend",n.root)})}createNode(e){var n,o,a,l,c,p,b;const t=x("div",{class:`${ge.root} ${((n=e.render_options)==null?void 0:n.class)||""}`,style:`${((o=e.slot_options)==null?void 0:o.style)||""}`});t.addEventListener("transitionend",h=>{(h.propertyName==="opacity"||getComputedStyle(t).opacity==="0")&&t.remove()});let s;(a=e.slot_options)!=null&&a.type?(s=new ye(e).apply(t),s.className=`${ge.customAsset} ${((l=e.slot_options)==null?void 0:l.class)||""}`):s=x("a",{class:`${ge.container} ${((c=e.slot_options)==null?void 0:c.class)||""}`,href:e.links_to,target:e.links_to&&e.links_to.startsWith("#")?"_blank":void 0,style:`--background-url: url(${(p=e.slot_options)==null?void 0:p.src});${((b=e.slot_options)==null?void 0:b.style)||""}`}),s.addEventListener("click",()=>{this.traceEvent(e,"clicked")});const i=x("a",{class:ge.closeBtn},"");return i.addEventListener("click",()=>{this.close(t,e)}),t.append(s,i),{root:t,asset:s,close:i}}close(e,t){e.classList.add(ge.hidden),this.setDismiss(t),this.traceEvent(t,"dismiss")}}const _e={root:"zuW4ULMN8w_j37srt",hidden:"_9ZOqg1x52j_j37srt",capsule:"_-965TdvYAE_j37srt",close:"nrf4GHtL1g_j37srt",region:"WyJX1Pl975_j37srt"};class z extends ue{constructor(e){super(e,"MoeskinCardRender"),this.ctx=e,e.render[this.name]=this}apply(e){return A(this,null,function*(){let t;if(this.checkDismiss(e[0]))return this.traceEvent(e[0],"skipped/user-dismiss");let s=!1;for(t of e){if(s){s&&this.traceEvent(t,"skipped/sibling-filled");continue}const{root:i,close:n,region:o}=z.createNode(t);if(n.addEventListener("click",()=>{z.removeNode(i),s&&(this.setDismiss(t),this.traceEvent(t,"dismiss"))}),!t.render_target)continue;const a=document.querySelector(t.render_target),l=this.getSlotRender(t,ye);if(!a||!l||!(yield this.isEnvAndUserMatched(t)))continue;const c=new l(t);t.region==="oversea"&&(o.style.display="block"),a.insertAdjacentElement(t.render_position||"beforeend",i),yield this.getElementUntilIntoView(i),s=(yield this.handleApplySlot({slot:c,container:i,config:t})).slotFilled,s?n.innerText=this.getSlotDescription(c):z.removeNode(i)}})}static createNode(e){var n,o;const t=x("div",{class:`moe-card ${_e.root} ${((n=e.render_options)==null?void 0:n.class)||""}`,style:((o=e.render_options)==null?void 0:o.style)||""}),s=x("a",{class:`${_e.close} ${_e.capsule}`},""),i=x("div",{class:`${_e.region} ${_e.capsule}`},`${e.region} AD`);return t.append(i,s),{root:t,close:s,region:i}}static removeNode(e){return new Promise(t=>{e.addEventListener("transitionend",s=>{(s.propertyName==="opacity"||getComputedStyle(e).opacity==="0")&&(e.remove(),t(!0))}),e.style.height=`${e.clientHeight}px`,setTimeout(()=>{e.classList.add(_e.hidden)})})}}const dn={duilian:"z9DR6NpXHM_j37srt"};class pn extends ue{constructor(e){super(e,"DuilianRender"),this.ctx=e}apply(e){return A(this,null,function*(){let t=!1,s;if(this.checkDismiss(e[0]))return this.traceEvent(e[0],"skipped/user-dismiss");for(s of e){const i=z.createNode(s);i.root.classList.add(dn.duilian),i.close.addEventListener("click",()=>{z.removeNode(i.root),t&&(this.setDismiss(s),this.traceEvent(s,"dismiss"))});const n=this.getSlotRender(s,ye);if(t||!n){t&&this.traceEvent(s,"skipped/sibling-filled");continue}if(!(yield this.isEnvAndUserMatched(s)))continue;document.body.append(i.root);const o=new n(s),{slotFilled:a,slotElement:l}=yield this.handleApplySlot({slot:o,container:i.root,config:s});t=a,t?(i.root.style.height="",i.close.innerText=this.getSlotDescription(o)):z.removeNode(i.root)}})}}const Os={root:"nw-nu3FMVV_j37srt",disclosure:"j0hvVGQ2l5_j37srt"};class mn extends ue{constructor(e){super(e,"InContentRender"),this.ctx=e,e.render[this.name]=this}apply(e){return A(this,null,function*(){if(this.checkDismiss(e[0]))return this.traceEvent(e[0],"skipped/user-dismiss");let t,s=!1;for(const i of e){if(t=i,s){s&&this.traceEvent(t,"skipped/sibling-filled");continue}const{root:n,close:o,region:a}=z.createNode(t);n.classList.add(Os.root);const l=x("div",{class:Os.disclosure},t.disclosure||"");if(o.addEventListener("click",()=>{z.removeNode(n),s&&(this.setDismiss(t),this.traceEvent(t,"dismiss"))}),!t.render_target)continue;const c=document.querySelector(t.render_target),p=this.getSlotRender(t,ye);if(!c||!p||!(yield this.isEnvAndUserMatched(t)))continue;const b=new p(t);t.region==="oversea"&&(a.style.display="block"),c.insertAdjacentElement(t.render_position||"beforeend",n),yield this.getElementUntilIntoView(n);const h=this.getAvailableWidth(c);n.style.maxWidth=`${h}px`,t.render_options=t.render_options||{},t.render_options.style+=`;max-width:${h}px`,s=(yield this.handleApplySlot({slot:b,container:n,config:t})).slotFilled,s?((typeof t.disclosure=="undefined"||t.disclosure)&&n.appendChild(l),o.innerText=this.getSlotDescription(b)):z.removeNode(n)}})}getAvailableWidth(e){const t=document.createElement("span");t.style.cssText="display:inline!important;font-family:monospace!important;font-size:10px!important;word-break:break-all!important",e.before(t),t.innerText="0".repeat(20);let s=0;const i=t.offsetHeight;let n=0;const o=100;for(;t.offsetHeight===i&&n<o;)n++,t.innerText+="0".repeat(20);return s=t.offsetWidth,t.remove(),s}}class bn extends it{constructor(t){super(t);v(this,"emitted",!1);this.config=t}apply(t){const s=this.createNode(this.config);return t.append(s),s}createNode(t){var n,o;const s=x("img");new ResizeObserver(a=>{const l=a[0].target.clientWidth;let c;if(l<=600?c=t.slot_options.small:l<=1080?c=t.slot_options.medium:c=t.slot_options.large,c)s.getAttribute("src")!==c&&(s.src=c);else{if(this.emitted)return;this.emitted=!0,this.emit("unfilled")}}).observe(document.documentElement),s.addEventListener("load",()=>{this.emitted||(this.emitted=!0,this.emit("filled"))}),s.addEventListener("error",()=>{this.emitted||(this.emitted=!0,this.emit("unfilled","assets-loading-error"))});const i=x("a",{class:((n=t==null?void 0:t.slot_options)==null?void 0:n.class)||"",style:((o=t==null?void 0:t.slot_options)==null?void 0:o.style)||"",href:t.links_to,target:"_blank",rel:"noopener noreferrer"});return i.append(s),i}}const Ie={root:"lDQbU4kLsc_j37srt",hidden:"FKXxjX46NU_j37srt",container:"FPPAYpCsSy_j37srt",closeBtn:"rmYm6-AH87_j37srt"};class Ft extends ue{constructor(e){super(e,"MobileBottomAnchorRender"),this.ctx=e}apply(e){return A(this,null,function*(){let t=!1,s;if(this.checkDismiss(e[0]))return this.traceEvent(e[0],"skipped/user-dismiss");const i=Ft.createNode(e[0]);document.body.append(i.root),i.container.style.height="90px",i.close.addEventListener("click",()=>{i.root.classList.add(Ie.hidden),t&&(this.setDismiss(s),this.traceEvent(s,"dismiss"))});for(s of e){const n=this.getSlotRender(s,bn);if(t||!n){t&&this.traceEvent(s,"skipped/sibling-filled");continue}if(!(yield this.isEnvAndUserMatched(s)))continue;const o=new n(s),{slotFilled:a,slotElement:l}=yield this.handleApplySlot({slot:o,container:i.container,config:s});t=a,t?(i.container.style.height="",i.close.innerText=this.getSlotDescription(o)):l.remove()}!t&&s&&i.root.classList.add(Ie.hidden)})}static createNode(e){var n,o;const t=x("div",{class:`${Ie.root} ${(n=e==null?void 0:e.render_options)==null?void 0:n.class}`,style:`${Ie.root} ${(o=e==null?void 0:e.render_options)==null?void 0:o.style}`}),s=x("div",{class:Ie.container}),i=x("a",{class:Ie.closeBtn},"");return t.append(s,i),t.addEventListener("transitionend",a=>{(a.propertyName==="opacity"||getComputedStyle(t).opacity==="0")&&t.remove()}),{root:t,container:s,close:i}}}const wn=r=>A(this,null,function*(){let e=!1;return new Promise((t,s)=>{const i=window.mw.hook;i?i(r).add(n=>{e||(e=!0,t(n))}):s(new Error("mw.hook is not available"))})}),Pt={sectionRoot:"QJINrRRwlt_j37srt"};class gn extends ue{constructor(e){super(e,"MoeHomelandRender"),this.ctx=e}apply(e){return A(this,null,function*(){if(this.checkDismiss(e[0]))return this.traceEvent(e[0],"skipped/user-dismiss");let t,s=!1;for(const i of e){if(t=i,s){s&&this.traceEvent(t,"skipped/sibling-filled");continue}(yield this.isEnvAndUserMatched(t))&&(s=(yield this.applySlotAutomatic(t)).slotFilled)}})}get homelandRoot(){const e=document.querySelector("#moe-homeland-app");return e?(Object.defineProperty(this,"homelandRoot",{value:e}),e):null}applySlotAutomatic(e){switch(e.render_preset){case"homeland_banner":case"homeland_slider":case"homeland_gallery":return this.applyBannerGallerySlot(e);case"homeland_section":return this.applySectionCardSlot(e);default:return this.handleUnfilled(null,e,"Missing or unknown render_preset"),Promise.resolve({slotFilled:!1,slotElement:null})}}applyBannerGallerySlot(e){return A(this,null,function*(){const t="insight-"+Math.random().toString(36).slice(2);let s=parseInt((e==null?void 0:e.render_target)||"1");return s=isNaN(s)?1:s,s=Math.max(1,s),wn("moe-homeland:section/banner-slider").then(n=>A(this,[n],function*({data:i}){var l,c,p,b,h,f,u,m,w,M,G,N;if(!((p=(c=(l=i==null?void 0:i.value)==null?void 0:l.index)==null?void 0:c[0])==null?void 0:p.pages))return{slotFilled:!1,slotElement:null};(M=(f=(h=(b=i==null?void 0:i.value)==null?void 0:b.index)==null?void 0:h[0])==null?void 0:f.pages)==null||M.splice(s-1,0,{id:t,imageSrc:(u=e.slot_options)==null?void 0:u.src,title:(m=e.slot_options)==null?void 0:m.alt,externalUrl:e.links_to,description:(w=e.slot_options)==null?void 0:w.alt,isAdvertisement:!0});const a=yield Ss(this.homelandRoot,`[id="${t}"]`);return a?(a.classList.add(Pt.banner),(G=e.slot_options)!=null&&G.style&&(a.style.cssText=(N=e.slot_options)==null?void 0:N.style),this.handleShown(a,e),{slotFilled:!0,slotElement:a}):(this.handleUnfilled(null,e,"Failed to find target"),{slotFilled:!1,slotElement:null})}))})}applySectionCardSlot(e){return A(this,null,function*(){const t=z.createNode(e),s=new ye(e),i=x("div",{class:Pt.sectionContainer});t.root.classList.add(Pt.sectionRoot),t.close.innerText=this.getSlotDescription(s),t.root.appendChild(i);const n=yield Ss(this.homelandRoot,e.render_target);return n?(n.insertAdjacentElement("beforebegin",t.root),t.close.addEventListener("click",()=>{z.removeNode(t.root),this.setDismiss(e),this.traceEvent(e,"dismiss")}),this.handleApplySlot({slot:s,config:e,container:t.root})):{slotFilled:!1,slotElement:null}})}}const ee={root:"qNrjZRJVpz_j37srt",backdrop:"_1aWtiK0l8l_j37srt",modal:"_7Dl5v-BJsy_j37srt",header:"pjN-9--D4z_j37srt",close:"pWT4twW70y_j37srt",content:"_09eC32rLE-_j37srt",asset:"YsHZWpyrz8_j37srt",footer:"MU6IXjUyej_j37srt",footerButton:"WyRwanx3dB_j37srt",okButton:"FoxNv3mStZ_j37srt",cancelButton:"T7a8QDh5l6_j37srt"};class yn extends ue{constructor(e){super(e,"PopoverRender"),this.ctx=e}apply(e){return A(this,null,function*(){const t=e[0];let s=!1;const i=document.querySelector(t.render_target||"body");if(!i){this.traceEvent(t,"error/missing-target-element");return}if(!(yield this.isEnvAndUserMatched(t)))return;const o=this.checkDismiss(t);if(o){this.traceEvent(t,"skipped/user-dismiss");return}i.addEventListener("click",a=>{let l=a.target;for(;l&&l.tagName!=="A"&&l!==i;)l=l.parentElement;if((l==null?void 0:l.tagName)!=="A")return;const c=l,p=c.href,b=c.getAttribute("href");if(!b||b.startsWith("#")||b.startsWith("javascript:")||b.startsWith("vbscript:")||c.target==="_blank"||new URL(p).origin!==location.origin)return;a.preventDefault();const{root:h,closeButton:f,cancelButton:u,asset:m,okButton:w}=this.createNode(t);document.body.appendChild(h),document.body.style.overflow="hidden",[f,u,m,w].forEach(M=>{M.addEventListener("click",G=>{G.preventDefault(),M.getAttribute("action")==="dismiss"?this.traceEvent(t,"dismiss"):(this.traceEvent(t,"clicked"),window.open(t.links_to)),document.body.style.overflow="",h.remove(),this.setDismiss(t),location.href=p})}),this.getElementUntilIntoView(h).then(()=>{s=!0,this.traceEvent(t,"shown")})}),window.addEventListener("beforeunload",()=>{!o&&!s&&this.traceEvent(t,"skipped/unload-before-triggered")})})}createNode(e){var f,u;const t=x("div",{class:`${ee.root} ${(f=e.render_options)==null?void 0:f.class}`,style:(u=e.render_options)==null?void 0:u.style}),s=x("div",{class:ee.backdrop}),i=x("div",{class:`${ee.modal}`}),n=x("div",{class:ee.header}),o=x("a",{class:ee.close,action:"dismiss"},"");n.append(x("h5",""),x("div",{style:"flex:1"}),o);const a=x("section",{class:ee.content}),c=new ye(e).apply(a);c.classList.add(ee.asset);const p=x("div",{class:ee.footer}),b=x("a",{class:`${ee.footerButton} ${ee.cancelButton}`,action:"dismiss"},""),h=x("a",{class:`${ee.footerButton} ${ee.okButton}`,action:"clicked"},"");return p.append(b,h),i.append(n,a,p),t.append(s,i),{root:t,asset:c,cancelButton:b,okButton:h,closeButton:o}}}class En extends ue{constructor(e){super(e,"SingleLineScriptRender"),this.ctx=e,e.render[this.name]=this}apply(e){return A(this,null,function*(){var t;for(const s of e){const i=s;if(!(yield this.isEnvAndUserMatched(i)))continue;const n=Z({src:i.links_to,"insight-render":i.render},(t=i.slot_options)==null?void 0:t.attributes),o=document.querySelector(i.render_target||"body");if(!o)throw new Error("Missing parent node");const a=x("script",n);if(o.insertAdjacentElement(i.render_position||"beforeend",a),i.slot_options.injectScripts){const l=new Blob([i.slot_options.injectScripts],{type:"text/javascript"}),c=URL.createObjectURL(l);document.body.appendChild(x("script",{src:c})),window.addEventListener("unload",()=>{URL.revokeObjectURL(c)})}if(i.slot_options.injectStyles){const l=new CSSStyleSheet;l.replaceSync(i.slot_options.injectStyles),document.adoptedStyleSheets=[l]}}})}}function Rs(r){return A(this,null,function*(){return fetch(r||"https://app.moegirl.org.cn/insight/ads.config.yml.json",{cache:"no-cache"}).then(e=>e.json()).then(e=>Array.isArray(e==null?void 0:e.configs)?e.configs:Array.isArray(e)?e:[])})}var jt={exports:{}};jt.exports=$t;var kn=jt.exports.isMobile=$t;jt.exports.default=$t;const Nn=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,vn=/CrOS/,_n=/android|ipad|playbook|silk/i;function $t(r){r||(r={});let e=r.ua;if(!e&&typeof navigator!="undefined"&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;let t=Nn.test(e)&&!vn.test(e)||!!r.tablet&&_n.test(e);return!t&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(t=!0),t}const Ae=class Ae extends V{constructor(t=[]){super();v(this,"app",this);v(this,"deviceType",kn()||document.documentElement.clientWidth<=750&&"ontouchstart"in document?"mobile":"desktop");v(this,"render",{});this.configs=t}static startWithAllPlugins(t){return A(this,null,function*(){const s=new Ae(t);return s.plugin(dr),s.plugin(tn),s.plugin(Is),s.plugin(fn),s.plugin(pn),s.plugin(mn),s.plugin(Ft),s.plugin(gn),s.plugin(z),s.plugin(yn),s.plugin(En),yield s.start(),s})}init(t){return A(this,null,function*(){if(!navigator.userAgent.toLowerCase().includes("moegirl-mobile"))return this.configs.length?Ae.startWithAllPlugins(this.configs):Rs(t).then(Ae.startWithAllPlugins)})}setStatusCode(){return this}};v(Ae,"fetchConfigs",Rs);let De=Ae;S.ErrorPagesBackground=De,S.MoegirlInsight=De,S.MoeskinBackground=De,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});

;(function () {
function injectCSS(payload) {
  const style = document.createElement("style");
  style.dataset.vitePackage = payload.packageName;
  style.dataset.viteFile = payload.fileName;
  style.innerHTML = payload.source;
  document.head.appendChild(style);
}
const cssEntries = [{"fileName":"style.css","name":"style.css","needsCodeReference":false,"source":"@charset \"UTF-8\";.G3m-NvcuZk_j37srt{font-size:14px;display:block!important;position:absolute!important;z-index:-1!important;opacity:1!important;overflow:hidden;width:100%!important;height:100%!important;top:0!important;left:0!important;line-height:0;transition:all .48s ease-out}.G3m-NvcuZk_j37srt.dTTCfrMzSx_j37srt{opacity:0!important;pointer-events:none!important;user-select:none!important}.G3m-NvcuZk_j37srt.dTTCfrMzSx_j37srt .SChf9QLxq7_j37srt:before,.G3m-NvcuZk_j37srt.dTTCfrMzSx_j37srt .SChf9QLxq7_j37srt:after{transform:scale(1.2)}@media (max-width: 765px){.G3m-NvcuZk_j37srt{display:none!important}}.SChf9QLxq7_j37srt{position:absolute;top:0;left:0;width:100%;height:100%;transition:all .24s ease}.SChf9QLxq7_j37srt:before,.SChf9QLxq7_j37srt:after{content:\"\";position:fixed;top:0;display:block;width:52%;height:100%;background-size:auto 100%;transition:all .48s ease-out}.SChf9QLxq7_j37srt:before{left:0;background-image:linear-gradient(to right,rgba(255,255,255,0) 250px,var(--theme-background-color) 80%),var(--background-url);background-position:center left}.SChf9QLxq7_j37srt:after{right:0;width:50%;background-image:linear-gradient(to left,rgba(255,255,255,0) 250px,var(--theme-background-color) 80%),var(--background-url);background-position:center right}.IR-dIusvqI_j37srt{position:fixed!important;top:0;left:0;width:100vw;height:100vh}._7otqKPYBDS_j37srt{position:fixed;top:calc(50px + .5em);right:.5em;cursor:pointer;padding:.5em .8em;border-radius:99em;--color: #d03050;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;backdrop-filter:blur(2px);line-height:1;transition:all .24s ease;z-index:999999!important}._7otqKPYBDS_j37srt:after{content:\"\";padding-left:4px}._1FPtCg3X4C_j37srt{line-height:0;z-index:1;position:relative}._1FPtCg3X4C_j37srt.JkNFrJIO3i_j37srt{line-height:1.5}._2FgGja21JS_j37srt{width:100%;height:auto;display:block;line-height:0;pointer-events:none;user-select:none}iframe._2FgGja21JS_j37srt{height:100%}.zuW4ULMN8w_j37srt{font-size:14px;border-radius:.5em;overflow:hidden;padding:0;position:relative;transition:all .12s ease-out;user-select:none;text-align:center}.zuW4ULMN8w_j37srt._9ZOqg1x52j_j37srt{height:0!important;opacity:0!important}._-965TdvYAE_j37srt{position:absolute;top:.2rem;--color: #2080f0;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;border-radius:99em;padding:.1rem .5rem;line-height:1.5;backdrop-filter:blur(2px)}.nrf4GHtL1g_j37srt{--color: #d03050;right:.2rem;z-index:10;cursor:pointer}.nrf4GHtL1g_j37srt:after{content:\"\";padding-left:4px}.WyJX1Pl975_j37srt{display:none;left:.2rem;font-size:10px;pointer-events:none;z-index:10}.z9DR6NpXHM_j37srt{--width: 160px;position:fixed;width:var(--width);max-height:600px;top:50%;transform:translateY(-50%);z-index:10;--width-to-edge: calc(((100vw - 1200px) / 2 - var(--width)) / 2)}@media (max-width: 1560px){.z9DR6NpXHM_j37srt{display:none}}@media (max-height: 700px){.z9DR6NpXHM_j37srt{display:none}}.z9DR6NpXHM_j37srt img,.z9DR6NpXHM_j37srt video,.z9DR6NpXHM_j37srt iframe{width:100%;height:100%}.nw-nu3FMVV_j37srt{position:relative;margin-top:1em;margin-bottom:1em}.j0hvVGQ2l5_j37srt{display:block;margin:.4em 0;text-align:center;font-size:.7em;color:#00000080;user-select:none}.lDQbU4kLsc_j37srt{position:fixed;bottom:0;left:0;width:100%;z-index:21;transition:all .48s ease-out}.lDQbU4kLsc_j37srt.FKXxjX46NU_j37srt{opacity:0;bottom:-100px;user-select:none!important;pointer-events:none!important}.FPPAYpCsSy_j37srt{position:relative;z-index:1;line-height:0;transition:all .24s ease;background-color:#fffc}.FPPAYpCsSy_j37srt img{width:100%;height:auto}.rmYm6-AH87_j37srt{position:absolute;right:.5em;top:.5em;padding:.2em .5em;--color: #d03050;color:var(--color);border:1px solid var(--color);background-color:#ffffff59;backdrop-filter:blur(2px);border-radius:99em;cursor:pointer;z-index:2}.rmYm6-AH87_j37srt:after{content:\"\";padding-left:4px}.QJINrRRwlt_j37srt{overflow:hidden}.QJINrRRwlt_j37srt img,.QJINrRRwlt_j37srt iframe{width:100%}.QJINrRRwlt_j37srt iframe{height:150px}.qNrjZRJVpz_j37srt{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000}.qNrjZRJVpz_j37srt ._1aWtiK0l8l_j37srt{position:absolute;left:0;top:0;width:100%;height:100%;background-color:#fffffff5;z-index:1}.qNrjZRJVpz_j37srt ._7Dl5v-BJsy_j37srt{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:600px;max-width:84vw;background-color:#fafafa;border-radius:.5rem;box-shadow:0 0 2rem #00000026;z-index:2}.qNrjZRJVpz_j37srt .pjN-9--D4z_j37srt{display:flex;padding:1rem;padding-bottom:0}.qNrjZRJVpz_j37srt .pjN-9--D4z_j37srt h5{font-size:1.4rem;font-weight:700;margin:0}.qNrjZRJVpz_j37srt .pjN-9--D4z_j37srt .pWT4twW70y_j37srt{display:block;width:1.8rem;height:1.8rem;line-height:1.8;text-align:center;font-size:1rem;border-radius:50%;background:rgba(208,48,80,.16);color:#d03050}.qNrjZRJVpz_j37srt ._09eC32rLE-_j37srt{text-align:center;padding:1rem}.qNrjZRJVpz_j37srt .YsHZWpyrz8_j37srt{display:inline-block;line-height:1;cursor:pointer}.qNrjZRJVpz_j37srt .YsHZWpyrz8_j37srt iframe{border:none}.qNrjZRJVpz_j37srt .YsHZWpyrz8_j37srt img,.qNrjZRJVpz_j37srt .YsHZWpyrz8_j37srt iframe{max-width:calc(84vw - 2rem);max-height:70vh;width:calc(600px - 2rem);height:auto;object-fit:cover;border-radius:.5rem}.qNrjZRJVpz_j37srt .MU6IXjUyej_j37srt{padding:1rem;padding-top:0;display:flex;gap:1rem}.qNrjZRJVpz_j37srt .MU6IXjUyej_j37srt .WyRwanx3dB_j37srt{display:block;flex:1;text-align:center;padding:.8rem;border-radius:.2rem;cursor:pointer}.qNrjZRJVpz_j37srt .MU6IXjUyej_j37srt .FoxNv3mStZ_j37srt{background-color:#18a05829;color:#18a058}.qNrjZRJVpz_j37srt .MU6IXjUyej_j37srt .T7a8QDh5l6_j37srt{background-color:#2e33380d;color:#767c82}\n","type":"asset","packageName":"MoegirlInsight"}];
cssEntries.forEach(injectCSS);
})()
